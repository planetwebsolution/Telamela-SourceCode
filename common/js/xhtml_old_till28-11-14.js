(function($){$('html').addClass('stylish-select');if(!Array.prototype.indexOf){Array.prototype.indexOf=function(searchElement){if(this===void 0||this===null)throw new TypeError();var t=Object(this),len=t.length>>>0;if(len===0)return-1;var n=0;if(arguments.length>0){n=Number(arguments[1]);if(n!==n)n=0;else if(n!==0&&n!==(1/0)&&n!==-(1/0))n=(n>0||-1)*Math.floor(Math.abs(n))}if(n>=len)return-1;var k=n>=0?n:Math.max(len-Math.abs(n),0);for(;k<len;k++){if(k in t&&t[k]===searchElement)return k}return-1}}$.fn.extend({getSetSSValue:function(value){if(value){$(this).val(value).change();return this}else{return $(this).find(':selected').val()}},resetSS:function(){var oldOpts=$(this).data('ssOpts');$this=$(this);$this.next().remove();$this.unbind('.sSelect').sSelect(oldOpts)}});$.fn.sSelect=function(options){return this.each(function(){var defaults={defaultText:'Please select',animationSpeed:0,ddMaxHeight:'',containerClass:''};var opts=$.extend(defaults,options),$input=$(this),$containerDivText=$('<div class="selectedTxt"></div>'),$containerDiv=$('<div class="newListSelected '+opts.containerClass+($input.is(':disabled')?'newListDisabled':'')+'"></div>'),$containerDivWrapper=$('<div class="SSContainerDivWrapper" style="visibility:hidden;"></div>'),$newUl=$('<ul class="newList"></ul>'),currentIndex=-1,prevIndex=-1,keys=[],prevKey=false,prevented=false,$newLi;$(this).data('ssOpts',options);$containerDiv.insertAfter($input);$containerDiv.attr("tabindex",$input.attr("tabindex")||"0");$containerDivText.prependTo($containerDiv);$newUl.appendTo($containerDiv);$newUl.wrap($containerDivWrapper);$containerDivWrapper=$newUl.parent();$input.hide();if($input.is(':disabled')){return}$containerDivText.data('ssReRender',!$containerDivText.is(':visible'));function addItem(item,container){var option=$(item).text(),key=$(item).val(),isDisabled=$(item).is(':disabled');if(!isDisabled&&!$(item).parents().is(':disabled')){keys.push(option.charAt(0).toLowerCase())}container.append($('<li><a'+(isDisabled?' class="newListItemDisabled"':'')+' href="JavaScript:void(0);">'+option+'</a></li>').data({'key':key,'selected':$(item).is(':selected')}))}$input.children().each(function(){if($(this).is('option')){addItem(this,$newUl)}else{var optionTitle=$(this).attr('label'),$optGroup=$('<li class="newListOptionTitle '+($(this).is(':disabled')?'newListOptionDisabled':'')+'">'+optionTitle+'</li>'),$optGroupList=$('<ul></ul>');$optGroup.appendTo($newUl);$optGroupList.appendTo($optGroup);$(this).children().each(function(){addItem(this,$optGroupList)})}});$newLi=$newUl.find('li a:not(.newListItemDisabled)').not(function(){return $(this).parents().hasClass('newListOptionDisabled')});$newLi.each(function(i){if($(this).parent().data('selected')){opts.defaultText=$(this).html();currentIndex=prevIndex=i}});var newUlHeight=$newUl.height(),containerHeight=$containerDiv.height(),newLiLength=$newLi.length;if(currentIndex!=-1){navigateList(currentIndex)}else{$containerDivText.text(opts.defaultText)}function newUlPos(){var containerPosY=$containerDiv.offset().top,docHeight=$(window).height(),scrollTop=$(window).scrollTop();if(newUlHeight>parseInt(opts.ddMaxHeight)){newUlHeight=parseInt(opts.ddMaxHeight)}containerPosY=containerPosY-scrollTop;if(containerPosY+newUlHeight>=docHeight){$newUl.css({height:newUlHeight});$containerDivWrapper.css({top:'-'+newUlHeight+'px',height:newUlHeight});$input.onTop=true}else{$newUl.css({height:newUlHeight});$containerDivWrapper.css({top:containerHeight+'px',height:newUlHeight});$input.onTop=false}}newUlPos();$(window).bind('resize.sSelect scroll.sSelect',newUlPos);function positionFix(){$containerDiv.css('position','relative')}function positionHideFix(){$containerDiv.css({position:'static'})}$containerDivText.bind('click.sSelect',function(event){event.stopPropagation();if($(this).data('ssReRender')){newUlHeight=$newUl.height('').height();$containerDivWrapper.height('');containerHeight=$containerDiv.height();$(this).data('ssReRender',false);newUlPos()}$('.SSContainerDivWrapper').not($(this).next()).hide().parent().css('position','static').removeClass('newListSelFocus');$containerDivWrapper.toggle();positionFix();if(currentIndex==-1)currentIndex=0;try{$newLi.eq(currentIndex).focus()}catch(ex){}});function closeDropDown(fireChange,resetText){if(fireChange==true){prevIndex=currentIndex;$input.change()}if(resetText==true){currentIndex=prevIndex;navigateList(currentIndex)}$containerDivWrapper.hide();positionHideFix()}$newLi.bind('click.sSelect',function(e){var $clickedLi=$(e.target);currentIndex=$newLi.index($clickedLi);prevented=true;navigateList(currentIndex,true);closeDropDown()});$newLi.bind('mouseenter.sSelect',function(e){var $hoveredLi=$(e.target);$hoveredLi.addClass('newListHover')}).bind('mouseleave.sSelect',function(e){var $hoveredLi=$(e.target);$hoveredLi.removeClass('newListHover')});function navigateList(currentIndex,fireChange){if(currentIndex==-1){$containerDivText.text(opts.defaultText);$newLi.removeClass('hiLite')}else{$newLi.removeClass('hiLite').eq(currentIndex).addClass('hiLite');var text=$newLi.eq(currentIndex).text(),val=$newLi.eq(currentIndex).parent().data('key');try{$input.val(val)}catch(ex){$input[0].selectedIndex=currentIndex}$containerDivText.text(text);if(fireChange==true){prevIndex=currentIndex;$input.change()}if($containerDivWrapper.is(':visible')){try{$newLi.eq(currentIndex).focus()}catch(ex){}}}}$input.bind('change.sSelect',function(event){var $targetInput=$(event.target);if(prevented==true){prevented=false;return false}var $currentOpt=$targetInput.find(':selected');currentIndex=$targetInput.find('option').index($currentOpt);navigateList(currentIndex)});function keyPress(element){$(element).unbind('keydown.sSelect').bind('keydown.sSelect',function(e){var keycode=e.which;prevented=true;switch(keycode){case 40:case 39:incrementList();return false;break;case 38:case 37:decrementList();return false;break;case 33:case 36:gotoFirst();return false;break;case 34:case 35:gotoLast();return false;break;case 13:case 27:closeDropDown(true);return false;break;case 9:closeDropDown(true);nextFormElement();return false;break}keyPressed=String.fromCharCode(keycode).toLowerCase();var currentKeyIndex=keys.indexOf(keyPressed);if(typeof currentKeyIndex!='undefined'){++currentIndex;currentIndex=keys.indexOf(keyPressed,currentIndex);if(currentIndex==-1||currentIndex==null||prevKey!=keyPressed){currentIndex=keys.indexOf(keyPressed)}navigateList(currentIndex);prevKey=keyPressed;return false}})}function incrementList(){if(currentIndex<(newLiLength-1)){++currentIndex;navigateList(currentIndex)}}function decrementList(){if(currentIndex>0){--currentIndex;navigateList(currentIndex)}}function gotoFirst(){currentIndex=0;navigateList(currentIndex)}function gotoLast(){currentIndex=newLiLength-1;navigateList(currentIndex)}$containerDiv.bind('click.sSelect',function(e){e.stopPropagation();keyPress(this)});$containerDiv.bind('focus.sSelect',function(){$(this).addClass('newListSelFocus');keyPress(this)});$containerDiv.bind('blur.sSelect',function(){$(this).removeClass('newListSelFocus')});$(document).bind('click.sSelect',function(){$containerDiv.removeClass('newListSelFocus');if($containerDivWrapper.is(':visible')){closeDropDown(false,true)}else{closeDropDown(false)}});function nextFormElement(){var fields=$('body').find('button,input,textarea,select'),index=fields.index($input);if(index>-1&&(index+1)<fields.length){fields.eq(index+1).focus()}return false}$input.focus(function(){$input.next().focus()});$containerDivText.bind('mouseenter.sSelect',function(e){var $hoveredTxt=$(e.target);$hoveredTxt.parent().addClass('newListSelHover')}).bind('mouseleave.sSelect',function(e){var $hoveredTxt=$(e.target);$hoveredTxt.parent().removeClass('newListSelHover')});$containerDivWrapper.css({left:'0',display:'none',visibility:'visible'})})}})(jQuery);$(document).ready(function(){$(".my-dropdown").sSelect();$("#shStep4").hide();$(".setting").click(function(){$(this).parents().find(".dropBlock").slideToggle();$(this).toggleClass("active");return false})});(function(d,e,f){d.fn.jScrollPane=function(a){function b(br,bb){var bk,a9=this,a1,bF,aK,bD,a6,a0,s,aO,bi,bS,bs,aW,bh,aX,aV,bO,a5,bz,a2,aM,bw,by,bJ,bC,bl,aT,bu,bm,aI,bq,bP,aZ,be,bG=true,ba=true,bQ=false,aU=false,bA=br.clone(false,false).empty(),bM=d.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";bP=br.css("paddingTop")+" "+br.css("paddingRight")+" "+br.css("paddingBottom")+" "+br.css("paddingLeft");aZ=(parseInt(br.css("paddingLeft"),10)||0)+(parseInt(br.css("paddingRight"),10)||0);function bx(i){var n,l,m,g,h,j,k=false,o=false;bk=i;if(a1===f){h=br.scrollTop();j=br.scrollLeft();br.css({overflow:"hidden",padding:0});bF=br.innerWidth()+aZ;aK=br.innerHeight();br.width(bF);a1=d('<div class="jspPane" />').css("padding",bP).append(br.children());bD=d('<div class="jspContainer" />').css({width:bF+"px",height:"233px"}).append(a1).appendTo(br)}else{br.css("width","");k=bk.stickToBottom&&bf();o=bk.stickToRight&&bv();g=br.innerWidth()+aZ!=bF||br.outerHeight()!=aK;if(g){bF=br.innerWidth()+aZ;aK=br.innerHeight();bD.css({width:bF+"px",height:aK+"px"})}if(!g&&be==a6&&a1.outerHeight()==a0){br.width(bF);return}be=a6;a1.css("width","");br.width(bF);bD.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}a1.css("overflow","auto");if(i.contentWidth){a6=i.contentWidth}else{a6=a1[0].scrollWidth}a0=a1[0].scrollHeight;a1.css("overflow","");s=a6/bF;aO=a0/aK;bi=aO>1;bS=s>1;if(!(bS||bi)){br.removeClass("jspScrollable");a1.css({top:0,width:bD.width()-aZ});aR();bp();a8();aJ()}else{br.addClass("jspScrollable");n=bk.maintainPosition&&(bh||bO);if(n){l=bU();m=bW()}bR();c();bn();if(n){bc(o?(a6-bF):l,false);bd(k?(a0-aK):m,false)}bg();bI();bB();if(bk.enableKeyboardNavigation){a7()}if(bk.clickOnTrack){aP()}bt();if(bk.hijackInternalLinks){aS()}}if(bk.autoReinitialise&&!bq){bq=setInterval(function(){bx(bk)},bk.autoReinitialiseDelay)}else{if(!bk.autoReinitialise&&bq){clearInterval(bq)}}h&&br.scrollTop(0)&&bd(h,false);j&&br.scrollLeft(0)&&bc(j,false);br.trigger("jsp-initialised",[bS||bi])}function bR(){if(bi){bD.append(d('<div class="jspVerticalBar" />').append(d('<div class="jspCap jspCapTop" />'),d('<div class="jspTrack" />').append(d('<div class="jspDrag" />').append(d('<div class="jspDragTop" />'),d('<div class="jspDragBottom" />'))),d('<div class="jspCap jspCapBottom" />')));a5=bD.find(">.jspVerticalBar");bz=a5.find(">.jspTrack");bs=bz.find(">.jspDrag");if(bk.showArrows){by=d('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",bT(0,-1)).bind("click.jsp",bV);bJ=d('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",bT(0,1)).bind("click.jsp",bV);if(bk.arrowScrollOnHover){by.bind("mouseover.jsp",bT(0,-1,by));bJ.bind("mouseover.jsp",bT(0,1,bJ))}bE(bz,bk.verticalArrowPositions,by,bJ)}aM=aK;bD.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){aM-=d(this).outerHeight()});bs.hover(function(){bs.addClass("jspHover")},function(){bs.removeClass("jspHover")}).bind("mousedown.jsp",function(h){d("html").bind("dragstart.jsp selectstart.jsp",bV);bs.addClass("jspActive");var g=h.pageY-bs.position().top;d("html").bind("mousemove.jsp",function(i){a4(i.pageY-g,false)}).bind("mouseup.jsp mouseleave.jsp",bo);return false});aQ()}}function aQ(){bz.height(aM+"px");bh=0;a2=bk.verticalGutter+bz.outerWidth();a1.width(bF-a2-aZ);try{if(a5.position().left===0){a1.css("margin-left",a2+"px")}}catch(g){}}function c(){if(bS){bD.append(d('<div class="jspHorizontalBar" />').append(d('<div class="jspCap jspCapLeft" />'),d('<div class="jspTrack" />').append(d('<div class="jspDrag" />').append(d('<div class="jspDragLeft" />'),d('<div class="jspDragRight" />'))),d('<div class="jspCap jspCapRight" />')));bC=bD.find(">.jspHorizontalBar");bl=bC.find(">.jspTrack");aX=bl.find(">.jspDrag");if(bk.showArrows){bm=d('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",bT(-1,0)).bind("click.jsp",bV);aI=d('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",bT(1,0)).bind("click.jsp",bV);if(bk.arrowScrollOnHover){bm.bind("mouseover.jsp",bT(-1,0,bm));aI.bind("mouseover.jsp",bT(1,0,aI))}bE(bl,bk.horizontalArrowPositions,bm,aI)}aX.hover(function(){aX.addClass("jspHover")},function(){aX.removeClass("jspHover")}).bind("mousedown.jsp",function(h){d("html").bind("dragstart.jsp selectstart.jsp",bV);aX.addClass("jspActive");var g=h.pageX-aX.position().left;d("html").bind("mousemove.jsp",function(i){a3(i.pageX-g,false)}).bind("mouseup.jsp mouseleave.jsp",bo);return false});aT=bD.innerWidth();bH()}}function bH(){bD.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){aT-=d(this).outerWidth()});bl.width(aT+"px");bO=0}function bn(){if(bS&&bi){var h=bl.outerHeight(),g=bz.outerWidth();aM-=h;d(bC).find(">.jspCap:visible,>.jspArrow").each(function(){aT+=d(this).outerWidth()});aT-=g;aK-=g;bF-=h;bl.parent().append(d('<div class="jspCorner" />').css("width",h+"px"));aQ();bH()}if(bS){a1.width((bD.outerWidth()-aZ)+"px")}a0=a1.outerHeight();aO=a0/aK;if(bS){bu=Math.ceil(1/s*aT);if(bu>bk.horizontalDragMaxWidth){bu=bk.horizontalDragMaxWidth}else{if(bu<bk.horizontalDragMinWidth){bu=bk.horizontalDragMinWidth}}aX.width(bu+"px");aV=aT-bu;bK(bO)}if(bi){bw=Math.ceil(1/aO*aM);if(bw>bk.verticalDragMaxHeight){bw=bk.verticalDragMaxHeight}else{if(bw<bk.verticalDragMinHeight){bw=bk.verticalDragMinHeight}}bs.height(bw+"px");aW=aM-bw;bL(bh)}}function bE(l,j,m,h){var g="before",k="after",i;if(j=="os"){j=/Mac/.test(navigator.platform)?"after":"split"}if(j==g){k=j}else{if(j==k){g=j;i=m;m=h;h=i}}l[g](m)[k](h)}function bT(i,g,h){return function(){bj(i,g,this,h);this.blur();return false}}function bj(k,l,g,i){g=d(g).addClass("jspActive");var j,m,n=true,h=function(){if(k!==0){a9.scrollByX(k*bk.arrowButtonSpeed)}if(l!==0){a9.scrollByY(l*bk.arrowButtonSpeed)}m=setTimeout(h,n?bk.initialDelay:bk.arrowRepeatFreq);n=false};h();j=i?"mouseout.jsp":"mouseup.jsp";i=i||d("html");i.bind(j,function(){g.removeClass("jspActive");m&&clearTimeout(m);m=null;i.unbind(j)})}function aP(){aJ();if(bi){bz.bind("mousedown.jsp",function(i){if(i.originalTarget===f||i.originalTarget==i.currentTarget){var k=d(this),g=k.offset(),j=i.pageY-g.top-bh,m,n=true,h=function(){var p=k.offset(),o=i.pageY-p.top-bw/2,r=aK*bk.scrollPagePercent,q=aW*r/(a0-aK);if(j<0){if(bh-q>o){a9.scrollByY(-r)}else{a4(o)}}else{if(j>0){if(bh+q<o){a9.scrollByY(r)}else{a4(o)}}else{l();return}}m=setTimeout(h,n?bk.initialDelay:bk.trackClickRepeatFreq);n=false},l=function(){m&&clearTimeout(m);m=null;d(document).unbind("mouseup.jsp",l)};h();d(document).bind("mouseup.jsp",l);return false}})}if(bS){bl.bind("mousedown.jsp",function(i){if(i.originalTarget===f||i.originalTarget==i.currentTarget){var k=d(this),g=k.offset(),j=i.pageX-g.left-bO,m,n=true,h=function(){var p=k.offset(),o=i.pageX-p.left-bu/2,r=bF*bk.scrollPagePercent,q=aV*r/(a6-bF);if(j<0){if(bO-q>o){a9.scrollByX(-r)}else{a3(o)}}else{if(j>0){if(bO+q<o){a9.scrollByX(r)}else{a3(o)}}else{l();return}}m=setTimeout(h,n?bk.initialDelay:bk.trackClickRepeatFreq);n=false},l=function(){m&&clearTimeout(m);m=null;d(document).unbind("mouseup.jsp",l)};h();d(document).bind("mouseup.jsp",l);return false}})}}function aJ(){if(bl){bl.unbind("mousedown.jsp")}if(bz){bz.unbind("mousedown.jsp")}}function bo(){d("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp");if(bs){bs.removeClass("jspActive")}if(aX){aX.removeClass("jspActive")}}function a4(g,h){if(!bi){return}if(g<0){g=0}else{if(g>aW){g=aW}}if(h===f){h=bk.animateScroll}if(h){a9.animate(bs,"top",g,bL)}else{bs.css("top",g);bL(g)}}function bL(k){if(k===f){k=bs.position().top}bD.scrollTop(0);bh=k;var h=bh===0,j=bh==aW,i=k/aW,g=-i*(a0-aK);if(bG!=h||bQ!=j){bG=h;bQ=j;br.trigger("jsp-arrow-change",[bG,bQ,ba,aU])}aL(h,j);a1.css("top",g);br.trigger("jsp-scroll-y",[-g,h,j]).trigger("scroll")}function a3(h,g){if(!bS){return}if(h<0){h=0}else{if(h>aV){h=aV}}if(g===f){g=bk.animateScroll}if(g){a9.animate(aX,"left",h,bK)}else{aX.css("left",h);bK(h)}}function bK(k){if(k===f){k=aX.position().left}bD.scrollTop(0);bO=k;var h=bO===0,i=bO==aV,j=k/aV,g=-j*(a6-bF);if(ba!=h||aU!=i){ba=h;aU=i;br.trigger("jsp-arrow-change",[bG,bQ,ba,aU])}aN(h,i);a1.css("left",g);br.trigger("jsp-scroll-x",[-g,h,i]).trigger("scroll")}function aL(h,g){if(bk.showArrows){by[h?"addClass":"removeClass"]("jspDisabled");bJ[g?"addClass":"removeClass"]("jspDisabled")}}function aN(h,g){if(bk.showArrows){bm[h?"addClass":"removeClass"]("jspDisabled");aI[g?"addClass":"removeClass"]("jspDisabled")}}function bd(g,i){var h=g/(a0-aK);a4(h*aW,i)}function bc(i,g){var h=i/(a6-bF);a3(h*aV,g)}function bN(i,n,g){var q,u,t,v=0,j=0,h,o,p,l,m,k;try{q=d(i)}catch(r){return}u=q.outerHeight();t=q.outerWidth();bD.scrollTop(0);bD.scrollLeft(0);while(!q.is(".jspPane")){v+=q.position().top;j+=q.position().left;q=q.offsetParent();if(/^body|html$/i.test(q[0].nodeName)){return}}h=bW();p=h+aK;if(v<h||n){m=v-bk.verticalGutter}else{if(v+u>p){m=v-aK+u+bk.verticalGutter}}if(m){bd(m,g)}o=bU();l=o+bF;if(j<o||n){k=j-bk.horizontalGutter}else{if(j+t>l){k=j-bF+t+bk.horizontalGutter}}if(k){bc(k,g)}}function bU(){return-a1.position().left}function bW(){return-a1.position().top}function bf(){var g=a0-aK;return(g>20)&&(g-bW()<10)}function bv(){var g=a6-bF;return(g>20)&&(g-bU()<10)}function bI(){bD.unbind(bM).bind(bM,function(i,h,j,l){var k=bO,g=bh;a9.scrollBy(j*bk.mouseWheelSpeed,-l*bk.mouseWheelSpeed,false);return k==bO&&g==bh})}function aR(){bD.unbind(bM)}function bV(){return false}function bg(){a1.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(g){bN(g.target,false)})}function bp(){a1.find(":input,a").unbind("focus.jsp")}function a7(){var g,j,h=[];bS&&h.push(bC[0]);bi&&h.push(a5[0]);a1.focus(function(){br.focus()});br.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(k){if(k.target!==this&&!(h.length&&d(k.target).closest(h).length)){return}var l=bO,m=bh;switch(k.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:g=k.keyCode;i();break;case 35:bd(a0-aK);g=null;break;case 36:bd(0);g=null;break}j=k.keyCode==g&&l!=bO||m!=bh;return!j}).bind("keypress.jsp",function(k){if(k.keyCode==g){i()}return!j});if(bk.hideFocus){br.css("outline","none");if("hideFocus"in bD[0]){br.attr("hideFocus",true)}}else{br.css("outline","");if("hideFocus"in bD[0]){br.attr("hideFocus",false)}}function i(){var k=bO,l=bh;switch(g){case 40:a9.scrollByY(bk.keyboardSpeed,false);break;case 38:a9.scrollByY(-bk.keyboardSpeed,false);break;case 34:case 32:a9.scrollByY(aK*bk.scrollPagePercent,false);break;case 33:a9.scrollByY(-aK*bk.scrollPagePercent,false);break;case 39:a9.scrollByX(bk.keyboardSpeed,false);break;case 37:a9.scrollByX(-bk.keyboardSpeed,false);break}j=k!=bO||l!=bh;return j}}function a8(){br.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp")}function bt(){if(location.hash&&location.hash.length>1){var h,j,i=escape(location.hash.substr(1));try{h=d("#"+i+', a[name="'+i+'"]')}catch(g){return}if(h.length&&a1.find(i)){if(bD.scrollTop()===0){j=setInterval(function(){if(bD.scrollTop()>0){bN(h,true);d(document).scrollTop(bD.position().top);clearInterval(j)}},50)}else{bN(h,true);d(document).scrollTop(bD.position().top)}}}}function aS(){if(d(document.body).data("jspHijack")){return}d(document.body).data("jspHijack",true);d(document.body).delegate("a[href*=#]","click",function(p){var h=this.href.substr(0,this.href.indexOf("#")),o=location.href,k,j,g,m,n,l;if(location.href.indexOf("#")!==-1){o=location.href.substr(0,location.href.indexOf("#"))}if(h!==o){return}k=escape(this.href.substr(this.href.indexOf("#")+1));j;try{j=d("#"+k+', a[name="'+k+'"]')}catch(i){return}if(!j.length){return}g=j.closest(".jspScrollable");m=g.data("jsp");m.scrollToElement(j,true);if(g[0].scrollIntoView){n=d(e).scrollTop();l=j.offset().top;if(l<n||l>n+d(e).height()){g[0].scrollIntoView()}}p.preventDefault()})}function bB(){var k,l,i,j,h,g=false;bD.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(n){var m=n.originalEvent.touches[0];k=bU();l=bW();i=m.pageX;j=m.pageY;h=false;g=true}).bind("touchmove.jsp",function(m){if(!g){return}var n=m.originalEvent.touches[0],o=bO,p=bh;a9.scrollTo(k+i-n.pageX,l+j-n.pageY);h=h||Math.abs(i-n.pageX)>5||Math.abs(j-n.pageY)>5;return o==bO&&p==bh}).bind("touchend.jsp",function(m){g=false}).bind("click.jsp-touchclick",function(m){if(h){h=false;return false}})}function aY(){var g=bW(),h=bU();br.removeClass("jspScrollable").unbind(".jsp");br.replaceWith(bA.append(a1.children()));bA.scrollTop(g);bA.scrollLeft(h);if(bq){clearInterval(bq)}}d.extend(a9,{reinitialise:function(g){g=d.extend({},bk,g);bx(g)},scrollToElement:function(h,i,g){bN(h,i,g)},scrollTo:function(h,g,i){bc(h,i);bd(g,i)},scrollToX:function(h,g){bc(h,g)},scrollToY:function(g,h){bd(g,h)},scrollToPercentX:function(h,g){bc(h*(a6-bF),g)},scrollToPercentY:function(h,g){bd(h*(a0-aK),g)},scrollBy:function(i,g,h){a9.scrollByX(i,h);a9.scrollByY(g,h)},scrollByX:function(g,i){var j=bU()+Math[g<0?"floor":"ceil"](g),h=j/(a6-bF);a3(h*aV,i)},scrollByY:function(g,i){var j=bW()+Math[g<0?"floor":"ceil"](g),h=j/(a0-aK);a4(h*aW,i)},positionDragX:function(g,h){a3(g,h)},positionDragY:function(h,g){a4(h,g)},animate:function(k,h,g,i){var j={};j[h]=g;k.animate(j,{duration:bk.animateDuration,easing:bk.animateEase,queue:false,step:i})},getContentPositionX:function(){return bU()},getContentPositionY:function(){return bW()},getContentWidth:function(){return a6},getContentHeight:function(){return a0},getPercentScrolledX:function(){return bU()/(a6-bF)},getPercentScrolledY:function(){return bW()/(a0-aK)},getIsScrollableH:function(){return bS},getIsScrollableV:function(){return bi},getContentPane:function(){return a1},scrollToBottom:function(g){a4(aW,g)},hijackInternalLinks:d.noop,destroy:function(){aY()}});bx(bb)}a=d.extend({},d.fn.jScrollPane.defaults,a);d.each(["mouseWheelSpeed","arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){a[this]=a[this]||a.speed});return this.each(function(){var h=d(this),c=h.data("jsp");if(c){c.reinitialise(a)}else{d("script",h).filter('[type="text/javascript"],:not([type])').remove();c=new b(h,a);h.data("jsp",c)}})};d.fn.jScrollPane.defaults={showArrows:false,maintainPosition:true,stickToBottom:false,stickToRight:false,clickOnTrack:true,autoReinitialise:false,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:f,animateScroll:false,animateDuration:300,animateEase:"linear",hijackInternalLinks:false,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:0,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:false,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:true,hideFocus:false,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:0.8}})(jQuery,this);var checkboxHeight="25";var radioHeight="20";var selectWidth="190";document.write('<style type="text/css">input.styled { display: none; } select.styled { position: relative; width: '+selectWidth+"px; opacity: 0; filter: alpha(opacity=0); z-index: 5; } .disabled { opacity: 0.5; filter: alpha(opacity=50); }</style>");var Custom={init:function(){var e=document.getElementsByTagName("input"),g=Array(),c,f,h;for(a=0;a<e.length;a++){if((e[a].type=="checkbox"||e[a].type=="radio")&&e[a].className=="styled"){g[a]=document.createElement("span");g[a].className=e[a].type;if(e[a].checked==true){if(e[a].type=="checkbox"){position="0 -"+(checkboxHeight*2)+"px";g[a].style.backgroundPosition=position}else{position="0 -"+(radioHeight*2)+"px";g[a].style.backgroundPosition=position}}e[a].parentNode.insertBefore(g[a],e[a]);e[a].onchange=Custom.clear;if(!e[a].getAttribute("disabled")){g[a].onmousedown=Custom.pushed;g[a].onmouseup=Custom.check}else{g[a].className=g[a].className+=" disabled"}}}e=document.getElementsByTagName("select");for(a=0;a<e.length;a++){if(e[a].className=="styled"){f=e[a].getElementsByTagName("option");h=f[0].childNodes[0].nodeValue;c=document.createTextNode(h);for(b=0;b<f.length;b++){if(f[b].selected==true){c=document.createTextNode(f[b].childNodes[0].nodeValue)}}g[a]=document.createElement("span");g[a].className="select";g[a].id="select"+e[a].name;g[a].appendChild(c);e[a].parentNode.insertBefore(g[a],e[a]);if(!e[a].getAttribute("disabled")){e[a].onchange=Custom.choose}else{e[a].previousSibling.className=e[a].previousSibling.className+=" disabled"}}}document.onmouseup=Custom.clear},pushed:function(){element=this.nextSibling;if(element.checked==true&&element.type=="checkbox"){this.style.backgroundPosition="0 -"+checkboxHeight*3+"px"}else{if(element.checked==true&&element.type=="radio"){this.style.backgroundPosition="0 -"+radioHeight*3+"px"}else{if(element.checked!=true&&element.type=="checkbox"){this.style.backgroundPosition="0 -"+checkboxHeight+"px"}else{this.style.backgroundPosition="0 -"+radioHeight+"px"}}}},check:function(){element=this.nextSibling;if(element.checked==true&&element.type=="checkbox"){this.style.backgroundPosition="0 0";element.checked=false}else{if(element.type=="checkbox"){this.style.backgroundPosition="0 -"+checkboxHeight*2+"px"}else{this.style.backgroundPosition="0 -"+radioHeight*2+"px";group=this.nextSibling.name;inputs=document.getElementsByTagName("input");for(a=0;a<inputs.length;a++){if(inputs[a].name==group&&inputs[a]!=this.nextSibling){inputs[a].previousSibling.style.backgroundPosition="0 0"}}}element.checked=true}},clear:function(){inputs=document.getElementsByTagName("input");for(var c=0;c<inputs.length;c++){if(inputs[c].type=="checkbox"&&inputs[c].checked==true&&inputs[c].className=="styled"){inputs[c].previousSibling.style.backgroundPosition="0 -"+checkboxHeight*2+"px"}else{if(inputs[c].type=="checkbox"&&inputs[c].className=="styled"){inputs[c].previousSibling.style.backgroundPosition="0 0"}else{if(inputs[c].type=="radio"&&inputs[c].checked==true&&inputs[c].className=="styled"){inputs[c].previousSibling.style.backgroundPosition="0 -"+radioHeight*2+"px"}else{if(inputs[c].type=="radio"&&inputs[c].className=="styled"){inputs[c].previousSibling.style.backgroundPosition="0 0"}}}}}},choose:function(){option=this.getElementsByTagName("option");for(d=0;d<option.length;d++){if(option[d].selected==true){document.getElementById("select"+this.name).childNodes[0].nodeValue=option[d].childNodes[0].nodeValue}}}};window.onload=Custom.init;(function(a){a.fn.validationEngineLanguage=function(){};a.validationEngineLanguage={newLang:function(){a.validationEngineLanguage.allRules={required:{regex:NONE,alertText:"*"+required,alertTextCheckboxMultiple:"* "+SEL_OPTION,alertTextCheckboxe:"* "+CHECKBOX_REQ,alertTextDateRange:"* "+BOTH_DATE_RANGE_REQ},requiredInFunction:{func:function(d,e,c,b){return(d.val()=="test")?true:false},alertText:"* "+FIELD_MUST_EQUAL},dateRange:{regex:NONE,alertText:"*  "+INVALID,alertText2:DATE_RANGE},dateTimeRange:{regex:"none",alertText:"*  "+INVALID,alertText2:DATE_TIME_RANGE},minSize:{regex:NONE,alertText:"* "+MINIMUM,alertText2:" "+CHARACTERS_ALLOWED},maxSize:{regex:NONE,alertText:"* "+MINIMUM,alertText2:" "+CHARACTERS_ALLOWED},groupRequired:{regex:NONE,alertText:"* "+MUST_FILL_ONE_FOLLOWING},min:{regex:NONE,alertText:"* "+MINIMUM_VAL},max:{regex:NONE,alertText:"* "+MAX_VAL},past:{regex:NONE,alertText:"* "+DATE_PRIOR},future:{regex:NONE,alertText:"* "+DATE_PAST},maxCheckbox:{regex:NONE,alertText:"*  "+MAX,alertText2:" "+OPTION_ALLOW},minCheckbox:{regex:NONE,alertText:"* "+PLEASE_SELECT,alertText2:" "+OPTIONS},equals:{regex:NONE,alertText:"* "+FILEDS_DOESNT_MATCH},equalss:{regex:NONE,alertText:"* "+FILEDS_DOESNT_MATCH},lessThan:{regex:NONE,alertText:"* "+FILEDS_DOESNT_MATCH},creditCard:{regex:NONE,alertText:"* "+INVALID_CREDIT_CARD_NO},phone:{regex:/^([\+][0-9]{1,3}[\ \.\-])?([\(]{1}[0-9]{2,6}[\)])?([0-9\ \.\-\/]{3,20})((x|ext|extension)[\ ]?[0-9]{1,4})?$/,alertText:"* "+INVALID_PHONE_NO},email:{regex:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,alertText:"* "+varInvalidEmail},multiemail:{func:function(f){var e=new RegExp(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);var b=f.val().split(/[,]+/);var d=1;for(i=0;i<=(b.length-1);i++){var c=e.test(b[i]);if(c==false){d=0}}if(d==0){return false}else{return true}},alertText:"* "+varInvalidEmail},integer:{regex:/^[\-\+]?\d+$/,alertText:"* "+VALID_INTEGER},number:{regex:/^[\-\+]?((([0-9]{1,3})([,][0-9]{3})*)|([0-9]+))?([\.]([0-9]+))?$/,alertText:"* "+INVALID_FLO_DEC_NO},numberPositive:{regex:/^[\+]?((([0-9]{1,3})([,][0-9]{3})*)|([0-9]+))?([\.]([0-9]+))?$/,alertText:"* Value should not be negative."},date:{func:function(h){var f=new RegExp(/^(\d{4})[\/\-\.](0?[1-9]|1[012])[\/\-\.](0?[1-9]|[12][0-9]|3[01])$/);var d=f.exec(h.val());if(d==null){return false}var e=d[1];var g=d[2]*1;var b=d[3]*1;var c=new Date(e,g-1,b);return(c.getFullYear()==e&&c.getMonth()==(g-1)&&c.getDate()==b)},alertText:"* "+INVALID_DATE_FORMAT},ipv4:{regex:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,alertText:"* "+INVALID_IP},url:{regex:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,alertText:"* "+INVALID_URL},onlyNumberSp:{regex:/^[0-9\ ]+$/,alertText:"* "+NO_ONLY},onlyLetterSp:{regex:/^[a-zA-Z\ \']+$/,alertText:"* "+LETTER_ONLY},onlyLetterNumber:{regex:/^[0-9a-zA-Z]+$/,alertText:"* "+NO_SPC_CORREC_ALLOW},ajaxUserCall:{url:"ajaxValidateFieldUser",extraData:"name=eric",alertText:"* "+USER_AL_TAKEN,alertTextLoad:"* "+VALIDATING_WAIT},ajaxUserCallPhp:{url:"phpajax/ajaxValidateFieldUser.php",extraData:"name=eric",alertTextOk:"* "+USER_AVILABLE,alertText:"* "+USER_AL_TAKEN,alertTextLoad:"* "+VALIDATING_WAIT},ajaxNameCall:{url:"ajaxValidateFieldName",alertText:"* "+NAME_AL_TAKEN,alertTextOk:"* "+NAME_AVILABLE,alertTextLoad:"* "+VALIDATING_WAIT},ajaxNameCallPhp:{url:"phpajax/ajaxValidateFieldName.php",alertText:"* "+NAME_AL_TAKEN,alertTextLoad:"* "+VALIDATING_WAIT},validate2fields:{alertText:"* "+INPUT_HELLO},dateFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/,alertText:"* "+INVALID_DATE},dateTimeFormat:{regex:/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/,alertText:"* "+INVALID_DATE_FOR,alertText2:EXPECTED_FORMAT+": ",alertText3:MM_DD,alertText4:YY_MM_DD}}}};a.validationEngineLanguage.newLang()})(jQuery);(function(b){USE_STRICT;var a={init:function(c){var d=this;if(!d.data("jqv")||d.data("jqv")==null){c=a._saveOptions(d,c);b(document).on("click",".formError",function(){b(this).fadeOut(150,function(){b(this).parent(".formErrorOuter").remove();b(this).remove()})})}return this},attach:function(e){var d=this;var c;if(e){c=a._saveOptions(d,e)}else{c=d.data("jqv")}c.validateAttribute=(d.find("[data-validation-engine*=validate]").length)?"data-validation-engine":"class";if(c.binded){d.on(c.validationEventTrigger,"["+c.validateAttribute+"*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)",a._onFieldEvent);d.on("click","["+c.validateAttribute+"*=validate][type=checkbox],["+c.validateAttribute+"*=validate][type=radio]",a._onFieldEvent);d.on(c.validationEventTrigger,"["+c.validateAttribute+"*=validate][class*=datepicker]",{delay:300},a._onFieldEvent)}if(c.autoPositionUpdate){b(window).bind("resize",{noAnimation:true,formElem:d},a.updatePromptsPosition)}d.on("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",a._submitButtonClick);d.removeData("jqv_submitButton");d.on("submit",a._onSubmitEvent);return this},detach:function(){var d=this;var c=d.data("jqv");d.find("["+c.validateAttribute+"*=validate]").not("[type=checkbox]").off(c.validationEventTrigger,a._onFieldEvent);d.find("["+c.validateAttribute+"*=validate][type=checkbox],[class*=validate][type=radio]").off("click",a._onFieldEvent);d.off("submit",a._onSubmitEvent);d.removeData("jqv");d.off("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",a._submitButtonClick);d.removeData("jqv_submitButton");if(c.autoPositionUpdate){b(window).off("resize",a.updatePromptsPosition)}return this},validate:function(){var d=b(this);var f=null;if(d.is("form")||d.hasClass("validationEngineContainer")){if(d.hasClass("validating")){return false}else{d.addClass("validating");var c=d.data("jqv");var f=a._validateFields(this);setTimeout(function(){d.removeClass("validating")},100);if(f&&c.onSuccess){c.onSuccess()}else{if(!f&&c.onFailure){c.onFailure()}}}}else{if(d.is("form")||d.hasClass("validationEngineContainer")){d.removeClass("validating")}else{var e=d.closest("form, .validationEngineContainer"),c=(e.data("jqv"))?e.data("jqv"):b.validationEngine.defaults,f=a._validateField(d,c);if(f&&c.onFieldSuccess){c.onFieldSuccess()}else{if(c.onFieldFailure&&c.InvalidFields.length>0){c.onFieldFailure()}}}}if(c.onValidationComplete){return!!c.onValidationComplete(e,f)}return f},updatePromptsPosition:function(f){if(f&&this==window){var e=f.data.formElem;var c=f.data.noAnimation}else{var e=b(this.closest("form, .validationEngineContainer"))}var d=e.data("jqv");e.find("["+d.validateAttribute+"*=validate]").not(":disabled").each(function(){var i=b(this);if(d.prettySelect&&i.is(":hidden")){i=e.find("#"+d.usePrefix+i.attr("id")+d.useSuffix)}var g=a._getPrompt(i);var h=b(g).find(".formErrorContent").html();if(g){a._updatePrompt(i,b(g),h,undefined,false,d,c)}});return this},showPrompt:function(d,f,h,e){var g=this.closest("form, .validationEngineContainer");var c=g.data("jqv");if(!c){c=a._saveOptions(this,c)}if(h){c.promptPosition=h}c.showArrow=e==true;a._showPrompt(this,d,f,false,c);return this},hide:function(){var f=b(this).closest("form, .validationEngineContainer");var d=f.data("jqv");var e=(d&&d.fadeDuration)?d.fadeDuration:0.3;var c;if(b(this).is("form")||b(this).hasClass("validationEngineContainer")){c="parentForm"+a._getClassName(b(this).attr("id"))}else{c=a._getClassName(b(this).attr("id"))+"formError"}b("."+c).fadeTo(e,0.3,function(){b(this).parent(".formErrorOuter").remove();b(this).remove()});return this},hideAll:function(){var d=this;var c=d.data("jqv");var e=c?c.fadeDuration:300;b(".formError").fadeTo(e,300,function(){b(this).parent(".formErrorOuter").remove();b(this).remove()});return this},_onFieldEvent:function(e){var f=b(this);var d=f.closest("form, .validationEngineContainer");var c=d.data("jqv");c.eventTrigger="field";window.setTimeout(function(){a._validateField(f,c);if(c.InvalidFields.length==0&&c.onFieldSuccess){c.onFieldSuccess()}else{if(c.InvalidFields.length>0&&c.onFieldFailure){c.onFieldFailure()}}},(e.data)?e.data.delay:0)},_onSubmitEvent:function(){var f=b(this);var c=f.data("jqv");if(f.data("jqv_submitButton")){var d=b("#"+f.data("jqv_submitButton"));if(d){if(d.length>0){if(d.hasClass("validate-skip")||d.attr("data-validation-engine-skip")=="true"){return true}}}}c.eventTrigger="submit";var e=a._validateFields(f);if(e&&c.ajaxFormValidation){a._validateFormWithAjax(f,c);return false}if(c.onValidationComplete){return!!c.onValidationComplete(f,e)}return e},_checkAjaxStatus:function(d){var c=true;b.each(d.ajaxValidCache,function(e,f){if(!f){c=false;return false}});return c},_checkAjaxFieldStatus:function(c,d){return d.ajaxValidCache[c]==true},_validateFields:function(e){var m=e.data("jqv");var f=false;e.trigger("jqv.form.validating");var n=null;e.find("["+m.validateAttribute+"*=validate]").not(":disabled").each(function(){var p=b(this);var o=[];if(b.inArray(p.attr("name"),o)<0){f|=a._validateField(p,m);if(f&&n==null){if(p.is(":hidden")&&m.prettySelect){n=p=e.find("#"+m.usePrefix+a._jqSelector(p.attr("id"))+m.useSuffix)}else{if(p.data("jqv-prompt-at")instanceof jQuery){p=p.data("jqv-prompt-at")}else{if(p.data("jqv-prompt-at")){p=b(p.data("jqv-prompt-at"))}}n=p}}if(m.doNotShowAllErrosOnSubmit){return false}o.push(p.attr("name"));if(m.showOneMessage==true&&f){return false}}});e.trigger("jqv.form.result",[f]);if(f){if(m.scroll){var l=n.offset().top;var h=n.offset().left;var j=m.promptPosition;if(typeof(j)=="string"&&j.indexOf(":")!=-1){j=j.substring(0,j.indexOf(":"))}if(j!="bottomRight"&&j!="bottomLeft"){var i=a._getPrompt(n);if(i){l=i.offset().top}}if(m.scrollOffset){l-=m.scrollOffset}if(m.isOverflown){var c=b(m.overflownDIV);if(!c.length){return false}var d=c.scrollTop();var g=-parseInt(c.offset().top);l+=d+g-5;var k=b(m.overflownDIV+":not(:animated)");k.animate({scrollTop:l},1100,function(){if(m.focusFirstField){n.focus()}})}else{l-=250;b("html, body").animate({scrollTop:l},1100,function(){if(m.focusFirstField){n.focus()}});b("html, body").animate({scrollLeft:h},1100)}}else{if(m.focusFirstField){n.focus()}}return false}return true},_validateFormWithAjax:function(g,e){var h=g.serialize();var f=(e.ajaxFormValidationMethod)?e.ajaxFormValidationMethod:"GET";var d=(e.ajaxFormValidationURL)?e.ajaxFormValidationURL:g.attr("action");var c=(e.dataType)?e.dataType:"json";b.ajax({type:f,url:d,cache:false,dataType:c,data:h,form:g,methods:a,options:e,beforeSend:function(){return e.onBeforeAjaxFormValidation(g,e)},error:function(i,j){if(e.onFailure){e.onFailure(i,j)}else{a._ajaxError(i,j)}},success:function(n){if((c=="json")&&(n!==true)){var l=false;for(var m=0;m<n.length;m++){var o=n[m];var q=o[0];var k=b(b("#"+q)[0]);if(k.length==1){var p=o[2];if(o[1]==true){if(p==""||!p){a._closePrompt(k)}else{if(e.allrules[p]){var j=e.allrules[p].alertTextOk;if(j){p=j}}if(e.showPrompts){a._showPrompt(k,p,"pass",false,e,true)}}}else{l|=true;if(e.allrules[p]){var j=e.allrules[p].alertText;if(j){p=j}}if(e.showPrompts){a._showPrompt(k,p,"",false,e,true)}}}}e.onAjaxFormComplete(!l,g,n,e)}else{e.onAjaxFormComplete(true,g,n,e)}}})},_validateField:function(d,l,s){if(!d.attr("id")){d.attr("id","form-validation-field-"+b.validationEngine.fieldIdCounter);++b.validationEngine.fieldIdCounter}if(!l.validateNonVisibleFields&&(d.is(":hidden")&&!l.prettySelect||d.parent().is(":hidden"))){return false}var u=d.attr(l.validateAttribute);var z=/validate\[(.*)\]/.exec(u);if(!z){return false}var v=z[1];var r=v.split(/\[|,|\]/);var o=false;var j=d.attr("name");var h="";var y="";var t=false;var A=false;l.isError=false;l.showArrow=true;if(l.maxErrorsPerField>0){A=true}var e=b(d.closest("form, .validationEngineContainer"));for(var x=0;x<r.length;x++){r[x]=r[x].replace(" ","");if(r[x]===""){delete r[x]}}for(var x=0,n=0;x<r.length;x++){if(A&&n>=l.maxErrorsPerField){if(!t){var k=b.inArray("required",r);t=(k!=-1&&k>=x)}break}var g=undefined;switch(r[x]){case"required":t=true;g=a._getErrorMessage(e,d,r[x],r,x,l,a._required);break;case"custom":g=a._getErrorMessage(e,d,r[x],r,x,l,a._custom);break;case"groupRequired":var w="["+l.validateAttribute+"*="+r[x+1]+"]";var f=e.find(w).eq(0);if(f[0]!=d[0]){a._validateField(f,l,s);l.showArrow=true}g=a._getErrorMessage(e,d,r[x],r,x,l,a._groupRequired);if(g){t=true}l.showArrow=false;break;case"ajax":g=a._ajax(d,r,x,l);if(g){y="load"}break;case"minSize":g=a._getErrorMessage(e,d,r[x],r,x,l,a._minSize);break;case"maxSize":g=a._getErrorMessage(e,d,r[x],r,x,l,a._maxSize);break;case"min":g=a._getErrorMessage(e,d,r[x],r,x,l,a._min);break;case"max":g=a._getErrorMessage(e,d,r[x],r,x,l,a._max);break;case"past":g=a._getErrorMessage(e,d,r[x],r,x,l,a._past);break;case"future":g=a._getErrorMessage(e,d,r[x],r,x,l,a._future);break;case"dateRange":var w="["+l.validateAttribute+"*="+r[x+1]+"]";l.firstOfGroup=e.find(w).eq(0);l.secondOfGroup=e.find(w).eq(1);if(l.firstOfGroup[0].value||l.secondOfGroup[0].value){g=a._getErrorMessage(e,d,r[x],r,x,l,a._dateRange)}if(g){t=true}l.showArrow=false;break;case"dateTimeRange":var w="["+l.validateAttribute+"*="+r[x+1]+"]";l.firstOfGroup=e.find(w).eq(0);l.secondOfGroup=e.find(w).eq(1);if(l.firstOfGroup[0].value||l.secondOfGroup[0].value){g=a._getErrorMessage(e,d,r[x],r,x,l,a._dateTimeRange)}if(g){t=true}l.showArrow=false;break;case"maxCheckbox":d=b(e.find("input[name='"+j+"']"));g=a._getErrorMessage(e,d,r[x],r,x,l,a._maxCheckbox);break;case"minCheckbox":d=b(e.find("input[name='"+j+"']"));g=a._getErrorMessage(e,d,r[x],r,x,l,a._minCheckbox);break;case"equals":g=a._getErrorMessage(e,d,r[x],r,x,l,a._equals);break;case"equalss":g=a._getErrorMessage(e,d,r[x],r,x,l,a._equals);break;case"lessThan":g=a._getErrorMessage(e,d,r[x],r,x,l,a._lessThan);break;case"funcCall":g=a._getErrorMessage(e,d,r[x],r,x,l,a._funcCall);break;case"creditCard":g=a._getErrorMessage(e,d,r[x],r,x,l,a._creditCard);break;case"condRequired":g=a._getErrorMessage(e,d,r[x],r,x,l,a._condRequired);if(g!==undefined){t=true}break;default:}var m=false;if(typeof g=="object"){switch(g.status){case"_break":m=true;break;case"_error":g=g.message;break;case"_error_no_prompt":return true;break;default:break}}if(m){break}if(typeof g=="string"){h+=g+"<br/>";l.isError=true;n++}}if(!t&&!(d.val())&&d.val().length<1&&r.indexOf("equals")<0){l.isError=false}var p=d.prop("type");var c=d.data("promptPosition")||l.promptPosition;if((p=="radio"||p=="checkbox")&&e.find("input[name='"+j+"']").size()>1){if(c==="inline"){d=b(e.find("input[name='"+j+"'][type!=hidden]:last"))}else{d=b(e.find("input[name='"+j+"'][type!=hidden]:first"))}l.showArrow=false}if(d.is(":hidden")&&l.prettySelect){d=e.find("#"+l.usePrefix+a._jqSelector(d.attr("id"))+l.useSuffix)}if(l.isError&&l.showPrompts){a._showPrompt(d,h,y,false,l)}else{if(!o){a._closePrompt(d)}}if(!o){d.trigger("jqv.field.result",[d,l.isError,h])}var q=b.inArray(d[0],l.InvalidFields);if(q==-1){if(l.isError){l.InvalidFields.push(d[0])}}else{if(!l.isError){l.InvalidFields.splice(q,1)}}a._handleStatusCssClasses(d,l);if(l.isError&&l.onFieldFailure){l.onFieldFailure(d)}if(!l.isError&&l.onFieldSuccess){l.onFieldSuccess(d)}return l.isError},_handleStatusCssClasses:function(d,c){if(c.addSuccessCssClassToField){d.removeClass(c.addSuccessCssClassToField)}if(c.addFailureCssClassToField){d.removeClass(c.addFailureCssClassToField)}if(c.addSuccessCssClassToField&&!c.isError){d.addClass(c.addSuccessCssClassToField)}if(c.addFailureCssClassToField&&c.isError){d.addClass(c.addFailureCssClassToField)}},_getErrorMessage:function(c,n,l,p,g,q,m){var j=jQuery.inArray(l,p);if(l==="custom"||l==="funcCall"){var o=p[j+1];l=l+"["+o+"]";delete(p[j])}var d=l;var e=(n.attr("data-validation-engine"))?n.attr("data-validation-engine"):n.attr("class");var h=e.split(" ");var k;if(l=="future"||l=="past"||l=="maxCheckbox"||l=="minCheckbox"){k=m(c,n,p,g,q)}else{k=m(n,p,g,q)}if(k!=undefined){var f=a._getCustomErrorMessage(b(n),h,d,q);if(f){k=f}}return k},_getCustomErrorMessage:function(j,e,h,l){var f=false;var d=/^custom\[.*\]$/.test(h)?a._validityProp.custom:a._validityProp[h];if(d!=undefined){f=j.attr("data-errormessage-"+d);if(f!=undefined){return f}}f=j.attr("data-errormessage");if(f!=undefined){return f}var c="#"+j.attr("id");if(typeof l.custom_error_messages[c]!="undefined"&&typeof l.custom_error_messages[c][h]!="undefined"){f=l.custom_error_messages[c][h]["message"]}else{if(e.length>0){for(var g=0;g<e.length&&e.length>0;g++){var k="."+e[g];if(typeof l.custom_error_messages[k]!="undefined"&&typeof l.custom_error_messages[k][h]!="undefined"){f=l.custom_error_messages[k][h]["message"];break}}}}if(!f&&typeof l.custom_error_messages[h]!="undefined"&&typeof l.custom_error_messages[h]["message"]!="undefined"){f=l.custom_error_messages[h]["message"]}return f},_validityProp:{required:"value-missing",custom:"custom-error",groupRequired:"value-missing",ajax:"custom-error",minSize:"range-underflow",maxSize:"range-overflow",min:"range-underflow",max:"range-overflow",past:"type-mismatch",future:"type-mismatch",dateRange:"type-mismatch",dateTimeRange:"type-mismatch",maxCheckbox:"range-overflow",minCheckbox:"range-underflow",equals:"pattern-mismatch",funcCall:"custom-error",creditCard:"pattern-mismatch",condRequired:"value-missing"},_required:function(h,k,f,m,g){switch(h.prop("type")){case"text":case"password":case"textarea":case"file":case"select-one":case"select-multiple":default:var l=b.trim(h.val());var e=b.trim(h.attr("data-validation-placeholder"));var j=b.trim(h.attr("placeholder"));if((!l)||(e&&l==e)||(j&&l==j)){return m.allrules[k[f]].alertText}break;case"radio":case"checkbox":if(g){if(!h.attr("checked")){return m.allrules[k[f]].alertTextCheckboxMultiple}break}var d=h.closest("form, .validationEngineContainer");var c=h.attr("name");if(d.find("input[name='"+c+"']:checked").size()==0){if(d.find("input[name='"+c+"']:visible").size()==1){return m.allrules[k[f]].alertTextCheckboxe}else{return m.allrules[k[f]].alertTextCheckboxMultiple}}break}},_groupRequired:function(f,h,d,c){var g="["+c.validateAttribute+"*="+h[d+1]+"]";var e=false;f.closest("form, .validationEngineContainer").find(g).each(function(){if(!a._required(b(this),h,d,c)){e=true;return false}});if(!e){return c.allrules[h[d]].alertText}},_custom:function(j,k,d,l){var c=k[d+1];var g=l.allrules[c];var h;if(!g){alert("jqv:custom rule not found - "+c);return}if(g.regex){var f=g.regex;if(!f){alert("jqv:custom regex not found - "+c);return}var e=new RegExp(f);if(!e.test(j.val())){return l.allrules[c].alertText}}else{if(g.func){h=g.func;if(typeof(h)!=="function"){alert("jqv:custom parameter 'function' is no function - "+c);return}if(!h(j,k,d,l)){return l.allrules[c].alertText}}else{alert("jqv:custom type not allowed "+c);return}}},_funcCall:function(j,k,d,c){var h=k[d+1];var f;if(h.indexOf(".")>-1){var g=h.split(".");var e=window;while(g.length){e=e[g.shift()]}f=e}else{f=window[h]||c.customFunctions[h]}if(typeof(f)=="function"){return f(j,k,d,c)}},_equals:function(f,g,e,d){var c=g[e+1];if(f.val()!=b("#"+c).val()){return d.allrules.equals.alertText}},_equalss:function(f,g,e,d){var c=g[e+1];if(f.val()!=b("#"+c).val()){return d.allrules.equals.alertText}},_lessThan:function(j,k,g,f){var e=k[g+1];var d=parseFloat(b("#"+e).val());var c=parseFloat(j.val());if(d!=""&&c>=d){var h=f.allrules.max;if(h.alertText2){return h.alertText+d+h.alertText2}return h.alertText+" "+d}},_maxSize:function(h,j,f,e){var d=j[f+1];var c=h.val().length;if(c>d){var g=e.allrules.maxSize;return g.alertText+d+g.alertText2}},_minSize:function(h,j,f,d){var e=j[f+1];var c=h.val().length;if(c<e){var g=d.allrules.minSize;return g.alertText+e+g.alertText2}},_min:function(h,j,f,d){var e=parseFloat(j[f+1]);var c=parseFloat(h.val());if(c<e){var g=d.allrules.min;if(g.alertText2){return g.alertText+e+g.alertText2}return g.alertText+e}},_max:function(h,j,f,e){var d=parseFloat(j[f+1]);var c=parseFloat(h.val());if(c>d){var g=e.allrules.max;if(g.alertText2){return g.alertText+d+g.alertText2}return g.alertText+d}},_past:function(d,j,k,e,m){var c=k[e+1];var g=b(d.find("*[name='"+c.replace(/^#+/,"")+"']"));var f;if(c.toLowerCase()=="now"){f=new Date()}else{if(undefined!=g.val()){if(g.is(":disabled")){return}f=a._parseDate(g.val())}else{f=a._parseDate(c)}}var l=a._parseDate(j.val());if(l>f){var h=m.allrules.past;if(h.alertText2){return h.alertText+a._dateToString(f)+h.alertText2}return h.alertText+a._dateToString(f)}},_future:function(d,j,k,e,m){var c=k[e+1];var g=b(d.find("*[name='"+c.replace(/^#+/,"")+"']"));var f;if(c.toLowerCase()=="now"){f=new Date()}else{if(undefined!=g.val()){if(g.is(":disabled")){return}f=a._parseDate(g.val())}else{f=a._parseDate(c)}}var l=a._parseDate(j.val());if(l<f){var h=m.allrules.future;if(h.alertText2){return h.alertText+a._dateToString(f)+h.alertText2}return h.alertText+a._dateToString(f)}},_isDate:function(d){var c=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/);return c.test(d)},_isDateTime:function(d){var c=new RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/);return c.test(d)},_dateCompare:function(d,c){return(new Date(d.toString())<new Date(c.toString()))},_dateRange:function(e,f,d,c){if((!c.firstOfGroup[0].value&&c.secondOfGroup[0].value)||(c.firstOfGroup[0].value&&!c.secondOfGroup[0].value)){return c.allrules[f[d]].alertText+c.allrules[f[d]].alertText2}if(!a._isDate(c.firstOfGroup[0].value)||!a._isDate(c.secondOfGroup[0].value)){return c.allrules[f[d]].alertText+c.allrules[f[d]].alertText2}if(!a._dateCompare(c.firstOfGroup[0].value,c.secondOfGroup[0].value)){return c.allrules[f[d]].alertText+c.allrules[f[d]].alertText2}},_dateTimeRange:function(e,f,d,c){if((!c.firstOfGroup[0].value&&c.secondOfGroup[0].value)||(c.firstOfGroup[0].value&&!c.secondOfGroup[0].value)){return c.allrules[f[d]].alertText+c.allrules[f[d]].alertText2}if(!a._isDateTime(c.firstOfGroup[0].value)||!a._isDateTime(c.secondOfGroup[0].value)){return c.allrules[f[d]].alertText+c.allrules[f[d]].alertText2}if(!a._dateCompare(c.firstOfGroup[0].value,c.secondOfGroup[0].value)){return c.allrules[f[d]].alertText+c.allrules[f[d]].alertText2}},_maxCheckbox:function(h,j,k,g,f){var d=k[g+1];var e=j.attr("name");var c=h.find("input[name='"+e+"']:checked").size();if(c>d){f.showArrow=false;if(f.allrules.maxCheckbox.alertText2){return f.allrules.maxCheckbox.alertText+" "+d+" "+f.allrules.maxCheckbox.alertText2}return f.allrules.maxCheckbox.alertText}},_minCheckbox:function(h,j,k,g,f){var d=k[g+1];var e=j.attr("name");var c=h.find("input[name='"+e+"']:checked").size();if(c<d){f.showArrow=false;return f.allrules.minCheckbox.alertText+" "+d+" "+f.allrules.minCheckbox.alertText2}},_creditCard:function(k,l,f,n){var d=false,m=k.val().replace(/ +/g,"").replace(/-+/g,"");var c=m.length;if(c>=14&&c<=16&&parseInt(m)>0){var g=0,f=c-1,j=1,h,e=new String();do{h=parseInt(m.charAt(f));e+=(j++%2==0)?h*2:h}while(--f>=0);for(f=0;f<e.length;f++){g+=parseInt(e.charAt(f))}d=g%10==0}if(!d){return n.allrules.creditCard.alertText}},_ajax:function(o,r,j,s){var q=r[j+1];var n=s.allrules[q];var e=n.extraData;var l=n.extraDataDynamic;var h={fieldId:o.attr("id"),fieldValue:o.val()};if(typeof e==="object"){b.extend(h,e)}else{if(typeof e==="string"){var k=e.split("&");for(var j=0;j<k.length;j++){var p=k[j].split("=");if(p[0]&&p[0]){h[p[0]]=p[1]}}}}if(l){var g=[];var m=String(l).split(",");for(var j=0;j<m.length;j++){var c=m[j];if(b(c).length){var d=o.closest("form, .validationEngineContainer").find(c).val();var f=c.replace("#","")+"="+escape(d);h[c.replace("#","")]=d}}}if(s.eventTrigger=="field"){delete(s.ajaxValidCache[o.attr("id")])}if(!s.isError&&!a._checkAjaxFieldStatus(o.attr("id"),s)){b.ajax({type:s.ajaxFormValidationMethod,url:n.url,cache:false,dataType:"json",data:h,field:o,rule:n,methods:a,options:s,beforeSend:function(){},error:function(i,t){if(s.onFailure){s.onFailure(i,t)}else{a._ajaxError(i,t)}},success:function(v){var x=v[0];var u=b("#"+x).eq(0);if(u.length==1){var t=v[1];var w=v[2];if(!t){s.ajaxValidCache[x]=false;s.isError=true;if(w){if(s.allrules[w]){var i=s.allrules[w].alertText;if(i){w=i}}}else{w=n.alertText}if(s.showPrompts){a._showPrompt(u,w,"",true,s)}}else{s.ajaxValidCache[x]=true;if(w){if(s.allrules[w]){var i=s.allrules[w].alertTextOk;if(i){w=i}}}else{w=n.alertTextOk}if(s.showPrompts){if(w){a._showPrompt(u,w,"pass",true,s)}else{a._closePrompt(u)}}if(s.eventTrigger=="submit"){o.closest("form").submit()}}}u.trigger("jqv.field.result",[u,s.isError,w])}});return n.alertTextLoad}},_ajaxError:function(c,d){if(c.status==0&&d==null){alert("The page is not served from a server! ajax call failed")}else{if(typeof console!="undefined"){console.log("Ajax error: "+c.status+" "+d)}}},_dateToString:function(c){return c.getFullYear()+"-"+(c.getMonth()+1)+"-"+c.getDate()},_parseDate:function(e){var c=e.split("-");if(c==e){c=e.split("/")}if(c==e){c=e.split(".");return new Date(c[2],(c[1]-1),c[0])}return new Date(c[0],(c[1]-1),c[2])},_showPrompt:function(i,g,h,f,e,d){if(i.data("jqv-prompt-at")instanceof jQuery){i=i.data("jqv-prompt-at")}else{if(i.data("jqv-prompt-at")){i=b(i.data("jqv-prompt-at"))}}var c=a._getPrompt(i);if(d){c=false}if(b.trim(g)){if(c){a._updatePrompt(i,c,g,h,f,e)}else{a._buildPrompt(i,g,h,f,e)}}},_buildPrompt:function(i,c,g,k,m){var d=b("<div>");d.addClass(a._getClassName(i.attr("id"))+"formError");d.addClass("parentForm"+a._getClassName(i.closest("form, .validationEngineContainer").attr("id")));d.addClass("formError");switch(g){case"pass":d.addClass("greenPopup");break;case"load":d.addClass("blackPopup");break;default:}if(k){d.addClass("ajaxed")}var n=b("<div>").addClass("formErrorContent").html(c).appendTo(d);var f=i.data("promptPosition")||m.promptPosition;if(m.showArrow){var j=b("<div>").addClass("formErrorArrow");if(typeof(f)=="string"){var h=f.indexOf(":");if(h!=-1){f=f.substring(0,h)}}switch(f){case"bottomLeft":case"bottomRight":d.find(".formErrorContent").before(j);j.addClass("formErrorArrowBottom").html('<div class="line1"><!-- --></div><div class="line2"><!-- --></div><div class="line3"><!-- --></div><div class="line4"><!-- --></div><div class="line5"><!-- --></div><div class="line6"><!-- --></div><div class="line7"><!-- --></div><div class="line8"><!-- --></div><div class="line9"><!-- --></div><div class="line10"><!-- --></div>');break;case"topLeft":case"topRight":j.html('<div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div>');d.append(j);break}}if(m.addPromptClass){d.addClass(m.addPromptClass)}var l=i.attr("data-required-class");if(l!==undefined){d.addClass(l)}else{if(m.prettySelect){if(b("#"+i.attr("id")).next().is("select")){var e=b("#"+i.attr("id").substr(m.usePrefix.length).substring(m.useSuffix.length)).attr("data-required-class");if(e!==undefined){d.addClass(e)}}}}d.css({opacity:0});if(f==="inline"){d.addClass("inline");if(typeof i.attr("data-prompt-target")!=="undefined"&&b("#"+i.attr("data-prompt-target")).length>0){d.appendTo(b("#"+i.attr("data-prompt-target")))}else{i.after(d)}}else{i.before(d)}var h=a._calculatePosition(i,d,m);d.css({position:f==="inline"?"relative":"absolute",top:h.callerTopPosition,left:h.callerleftPosition,marginTop:h.marginTopSize,opacity:0}).data("callerField",i);if(m.autoHidePrompt){setTimeout(function(){d.animate({opacity:0},function(){d.closest(".formErrorOuter").remove();d.remove()})},m.autoHideDelay)}return d.animate({opacity:0.87})},_updatePrompt:function(i,d,c,g,j,k,e){if(d){if(typeof g!=="undefined"){if(g=="pass"){d.addClass("greenPopup")}else{d.removeClass("greenPopup")}if(g=="load"){d.addClass("blackPopup")}else{d.removeClass("blackPopup")}}if(j){d.addClass("ajaxed")}else{d.removeClass("ajaxed")}d.find(".formErrorContent").html(c);var h=a._calculatePosition(i,d,k);var f={top:h.callerTopPosition,left:h.callerleftPosition,marginTop:h.marginTopSize};if(e){d.css(f)}else{d.animate(f)}}},_closePrompt:function(d){var c=a._getPrompt(d);if(c){c.fadeTo("fast",0,function(){c.parent(".formErrorOuter").remove();c.remove()})}},closePrompt:function(c){return a._closePrompt(c)},_getPrompt:function(e){var f=b(e).closest("form, .validationEngineContainer").attr("id");var d=a._getClassName(e.attr("id"))+"formError";var c=b("."+a._escapeExpression(d)+".parentForm"+a._getClassName(f))[0];if(c){return b(c)}},_escapeExpression:function(c){return c.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(e){var f=b(document);var c=b("body");var d=(e&&e.hasClass("rtl"))||(e&&(e.attr("dir")||"").toLowerCase()==="rtl")||f.hasClass("rtl")||(f.attr("dir")||"").toLowerCase()==="rtl"||c.hasClass("rtl")||(c.attr("dir")||"").toLowerCase()==="rtl";return Boolean(d)},_calculatePosition:function(m,f,r){var e,n,k;var g=m.width();var c=m.position().left;var p=m.position().top;var d=m.height();var q=f.height();e=n=0;k=-q;var j=m.data("promptPosition")||r.promptPosition;var i="";var h="";var o=0;var l=0;if(typeof(j)=="string"){if(j.indexOf(":")!=-1){i=j.substring(j.indexOf(":")+1);j=j.substring(0,j.indexOf(":"));if(i.indexOf(",")!=-1){h=i.substring(i.indexOf(",")+1);i=i.substring(0,i.indexOf(","));l=parseInt(h);if(isNaN(l)){l=0}}o=parseInt(i);if(isNaN(i)){i=0}}}switch(j){default:case"topRight":n+=c+g-30;e+=p;break;case"topLeft":e+=p;n+=c;break;case"centerRight":e=p+4;k=0;n=c+m.outerWidth(true)+5;break;case"centerLeft":n=c-(f.width()+2);e=p+4;k=0;break;case"bottomLeft":e=p+m.height()+5;k=0;n=c;break;case"bottomRight":n=c+g-30;e=p+m.height()+5;k=0;break;case"inline":n=0;e=0;k=0}n+=o;e+=l;return{callerTopPosition:e+"px",callerleftPosition:n+"px",marginTopSize:k+"px"}},_saveOptions:function(e,d){if(b.validationEngineLanguage){var c=b.validationEngineLanguage.allRules}else{b.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page")}b.validationEngine.defaults.allrules=c;var f=b.extend(true,{},b.validationEngine.defaults,d);e.data("jqv",f);return f},_getClassName:function(c){if(c){return c.replace(/:/g,"_").replace(/\./g,"_")}},_jqSelector:function(c){return c.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")},_condRequired:function(g,h,e,d){var c,f;for(c=(e+1);c<h.length;c++){f=jQuery("#"+h[c]).first();if(f.length&&a._required(f,["required"],0,d,true)==undefined){return a._required(g,["required"],0,d)}}},_submitButtonClick:function(e){var c=b(this);var d=c.closest("form, .validationEngineContainer");d.data("jqv_submitButton",c.attr("id"))}};b.fn.validationEngine=function(d){var c=b(this);if(!c[0]){return c}if(typeof(d)=="string"&&d.charAt(0)!="_"&&a[d]){if(d!="showPrompt"&&d!="hide"&&d!="hideAll"){a.init.apply(c)}return a[d].apply(c,Array.prototype.slice.call(arguments,1))}else{if(typeof d=="object"||!d){a.init.apply(c,arguments);return a.attach.apply(c)}else{b.error("Method "+d+" does not exist in jQuery.validationEngine")}}};b.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:true,focusFirstField:true,showPrompts:true,validateNonVisibleFields:false,promptPosition:"topRight",bindMethod:"bind",inlineAjax:false,ajaxFormValidation:false,ajaxFormValidationURL:false,ajaxFormValidationMethod:"get",onAjaxFormComplete:b.noop,onBeforeAjaxFormValidation:b.noop,onValidationComplete:false,doNotShowAllErrosOnSubmit:false,custom_error_messages:{},binded:true,showArrow:true,isError:false,maxErrorsPerField:false,ajaxValidCache:{},autoPositionUpdate:false,InvalidFields:[],onFieldSuccess:false,onFieldFailure:false,onSuccess:false,onFailure:false,validateAttribute:"class",addSuccessCssClassToField:"",addFailureCssClassToField:"",autoHidePrompt:false,autoHideDelay:10000,fadeDuration:0.3,prettySelect:false,addPromptClass:"",usePrefix:"",useSuffix:"",showOneMessage:false}};b(function(){b.validationEngine.defaults.promptPosition=a.isRTL()?"topLeft":"topRight"})})(jQuery);(function(e){function a(){this._defaults={pickerClass:"",showOnFocus:true,showTrigger:null,showAnim:"show",showOptions:{},showSpeed:"normal",popupContainer:null,alignment:"bottom",fixedWeeks:false,firstDay:0,calculateWeek:this.iso8601Week,monthsToShow:1,monthsOffset:0,monthsToStep:1,monthsToJump:12,useMouseWheel:true,changeMonth:true,yearRange:"c-10:c+10",shortYearCutoff:"+10",showOtherMonths:false,selectOtherMonths:false,defaultDate:null,selectDefaultDate:false,minDate:null,maxDate:null,dateFormat:"mm/dd/yyyy",autoSize:false,rangeSelect:false,rangeSeparator:" - ",multiSelect:0,multiSeparator:",",onDate:null,onShow:null,onChangeMonthYear:null,onSelect:null,onClose:null,altField:null,altFormat:null,constrainInput:true,commandsAsDateFormat:false,commands:this.commands};this.regional=[];this.regional[""]={monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],dateFormat:"mm/dd/yyyy",firstDay:0,renderer:this.defaultRenderer,prevText:"<Prev",prevStatus:"Show the previous month",prevJumpText:"<<",prevJumpStatus:"Show the previous year",nextText:"Next>",nextStatus:"Show the next month",nextJumpText:">>",nextJumpStatus:"Show the next year",currentText:"Current",currentStatus:"Show the current month",todayText:"Today",todayStatus:"Show today's month",clearText:"Clear",clearStatus:"Clear all the dates",closeText:"Close",closeStatus:"Close the datepicker",yearStatus:"Change the year",monthStatus:"Change the month",weekText:"Wk",weekStatus:"Week of the year",dayStatus:"Select DD, M d, yyyy",defaultStatus:"Select a date",isRTL:false};e.extend(this._defaults,this.regional[""]);this._disabled=[]}e.extend(a.prototype,{markerClassName:"hasDatepick",propertyName:"datepick",_popupClass:"datepick-popup",_triggerClass:"datepick-trigger",_disableClass:"datepick-disable",_monthYearClass:"datepick-month-year",_curMonthClass:"datepick-month-",_anyYearClass:"datepick-any-year",_curDoWClass:"datepick-dow-",commands:{prev:{text:"prevText",status:"prevStatus",keystroke:{keyCode:33},enabled:function(g){var f=g.curMinDate();return(!f||d.add(d.day(d._applyMonthsOffset(d.add(d.newDate(g.drawDate),1-g.options.monthsToStep,"m"),g),1),-1,"d").getTime()>=f.getTime())},date:function(f){return d.day(d._applyMonthsOffset(d.add(d.newDate(f.drawDate),-f.options.monthsToStep,"m"),f),1)},action:function(f){d._changeMonthPlugin(this,-f.options.monthsToStep)}},prevJump:{text:"prevJumpText",status:"prevJumpStatus",keystroke:{keyCode:33,ctrlKey:true},enabled:function(g){var f=g.curMinDate();return(!f||d.add(d.day(d._applyMonthsOffset(d.add(d.newDate(g.drawDate),1-g.options.monthsToJump,"m"),g),1),-1,"d").getTime()>=f.getTime())},date:function(f){return d.day(d._applyMonthsOffset(d.add(d.newDate(f.drawDate),-f.options.monthsToJump,"m"),f),1)},action:function(f){d._changeMonthPlugin(this,-f.options.monthsToJump)}},next:{text:"nextText",status:"nextStatus",keystroke:{keyCode:34},enabled:function(f){var g=f.get("maxDate");return(!g||d.day(d._applyMonthsOffset(d.add(d.newDate(f.drawDate),f.options.monthsToStep,"m"),f),1).getTime()<=g.getTime())},date:function(f){return d.day(d._applyMonthsOffset(d.add(d.newDate(f.drawDate),f.options.monthsToStep,"m"),f),1)},action:function(f){d._changeMonthPlugin(this,f.options.monthsToStep)}},nextJump:{text:"nextJumpText",status:"nextJumpStatus",keystroke:{keyCode:34,ctrlKey:true},enabled:function(f){var g=f.get("maxDate");return(!g||d.day(d._applyMonthsOffset(d.add(d.newDate(f.drawDate),f.options.monthsToJump,"m"),f),1).getTime()<=g.getTime())},date:function(f){return d.day(d._applyMonthsOffset(d.add(d.newDate(f.drawDate),f.options.monthsToJump,"m"),f),1)},action:function(f){d._changeMonthPlugin(this,f.options.monthsToJump)}},current:{text:"currentText",status:"currentStatus",keystroke:{keyCode:36,ctrlKey:true},enabled:function(h){var g=h.curMinDate();var i=h.get("maxDate");var f=h.selectedDates[0]||d.today();return(!g||f.getTime()>=g.getTime())&&(!i||f.getTime()<=i.getTime())},date:function(f){return f.selectedDates[0]||d.today()},action:function(g){var f=g.selectedDates[0]||d.today();d._showMonthPlugin(this,f.getFullYear(),f.getMonth()+1)}},today:{text:"todayText",status:"todayStatus",keystroke:{keyCode:36,ctrlKey:true},enabled:function(g){var f=g.curMinDate();var h=g.get("maxDate");return(!f||d.today().getTime()>=f.getTime())&&(!h||d.today().getTime()<=h.getTime())},date:function(f){return d.today()},action:function(f){d._showMonthPlugin(this)}},clear:{text:"clearText",status:"clearStatus",keystroke:{keyCode:35,ctrlKey:true},enabled:function(f){return true},date:function(f){return null},action:function(f){d._clearPlugin(this)}},close:{text:"closeText",status:"closeStatus",keystroke:{keyCode:27},enabled:function(f){return true},date:function(f){return null},action:function(f){d._hidePlugin(this)}},prevWeek:{text:"prevWeekText",status:"prevWeekStatus",keystroke:{keyCode:38,ctrlKey:true},enabled:function(g){var f=g.curMinDate();return(!f||d.add(d.newDate(g.drawDate),-7,"d").getTime()>=f.getTime())},date:function(f){return d.add(d.newDate(f.drawDate),-7,"d")},action:function(f){d._changeDayPlugin(this,-7)}},prevDay:{text:"prevDayText",status:"prevDayStatus",keystroke:{keyCode:37,ctrlKey:true},enabled:function(g){var f=g.curMinDate();return(!f||d.add(d.newDate(g.drawDate),-1,"d").getTime()>=f.getTime())},date:function(f){return d.add(d.newDate(f.drawDate),-1,"d")},action:function(f){d._changeDayPlugin(this,-1)}},nextDay:{text:"nextDayText",status:"nextDayStatus",keystroke:{keyCode:39,ctrlKey:true},enabled:function(f){var g=f.get("maxDate");return(!g||d.add(d.newDate(f.drawDate),1,"d").getTime()<=g.getTime())},date:function(f){return d.add(d.newDate(f.drawDate),1,"d")},action:function(f){d._changeDayPlugin(this,1)}},nextWeek:{text:"nextWeekText",status:"nextWeekStatus",keystroke:{keyCode:40,ctrlKey:true},enabled:function(f){var g=f.get("maxDate");return(!g||d.add(d.newDate(f.drawDate),7,"d").getTime()<=g.getTime())},date:function(f){return d.add(d.newDate(f.drawDate),7,"d")},action:function(f){d._changeDayPlugin(this,7)}}},defaultRenderer:{picker:'<div class="datepick"><div class="datepick-nav">{link:prev}{link:today}{link:next}</div>{months}{popup:start}<div class="datepick-ctrl">{link:clear}{link:close}</div>{popup:end}<div class="datepick-clear-fix"></div></div>',monthRow:'<div class="datepick-month-row">{months}</div>',month:'<div class="datepick-month"><div class="datepick-month-header">{monthHeader}</div><table><thead>{weekHeader}</thead><tbody>{weeks}</tbody></table></div>',weekHeader:"<tr>{days}</tr>",dayHeader:"<th>{day}</th>",week:"<tr>{days}</tr>",day:"<td>{day}</td>",monthSelector:".datepick-month",daySelector:"td",rtlClass:"datepick-rtl",multiClass:"datepick-multi",defaultClass:"",selectedClass:"datepick-selected",highlightedClass:"datepick-highlight",todayClass:"datepick-today",otherMonthClass:"datepick-other-month",weekendClass:"datepick-weekend",commandClass:"datepick-cmd",commandButtonClass:"",commandLinkClass:"",disabledClass:"datepick-disabled"},setDefaults:function(f){e.extend(this._defaults,f||{});return this},_ticksTo1970:(((1970-1)*365+Math.floor(1970/4)-Math.floor(1970/100)+Math.floor(1970/400))*24*60*60*10000000),_msPerDay:24*60*60*1000,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(q,j,k){if(typeof q!="string"){k=j;j=q;q=""}if(!j){return""}q=q||this._defaults.dateFormat;k=k||{};var s=k.dayNamesShort||this._defaults.dayNamesShort;var g=k.dayNames||this._defaults.dayNames;var o=k.monthNamesShort||this._defaults.monthNamesShort;var l=k.monthNames||this._defaults.monthNames;var h=k.calculateWeek||this._defaults.calculateWeek;var m=function(t,u){var v=1;while(r+v<q.length&&q.charAt(r+v)==t){v++}r+=v-1;return Math.floor(v/(u||1))>1};var f=function(v,x,t,w){var u=""+x;if(m(v,w)){while(u.length<t){u="0"+u}}return u};var n=function(t,v,u,w){return(m(t)?w[v]:u[v])};var i="";var p=false;for(var r=0;r<q.length;r++){if(p){if(q.charAt(r)=="'"&&!m("'")){p=false}else{i+=q.charAt(r)}}else{switch(q.charAt(r)){case"d":i+=f("d",j.getDate(),2);break;case"D":i+=n("D",j.getDay(),s,g);break;case"o":i+=f("o",this.dayOfYear(j),3);break;case"w":i+=f("w",h(j),2);break;case"m":i+=f("m",j.getMonth()+1,2);break;case"M":i+=n("M",j.getMonth(),o,l);break;case"y":i+=(m("y",2)?j.getFullYear():(j.getFullYear()%100<10?"0":"")+j.getFullYear()%100);break;case"@":i+=Math.floor(j.getTime()/1000);break;case"!":i+=j.getTime()*10000+this._ticksTo1970;break;case"'":if(m("'")){i+="'"}else{p=true}break;default:i+=q.charAt(r)}}}return i},parseDate:function(u,o,x){if(o==null){throw"Invalid arguments"}o=(typeof o=="object"?o.toString():o+"");if(o==""){return null}u=u||this._defaults.dateFormat;x=x||{};var g=x.shortYearCutoff||this._defaults.shortYearCutoff;g=(typeof g!="string"?g:this.today().getFullYear()%100+parseInt(g,10));var n=x.dayNamesShort||this._defaults.dayNamesShort;var z=x.dayNames||this._defaults.dayNames;var f=x.monthNamesShort||this._defaults.monthNamesShort;var i=x.monthNames||this._defaults.monthNames;var k=-1;var A=-1;var s=-1;var l=-1;var w=false;var r=false;var j=function(C,D){var E=1;while(h+E<u.length&&u.charAt(h+E)==C){E++}h+=E-1;return Math.floor(E/(D||1))>1};var B=function(E,G){var C=j(E,G);var F=[2,3,C?4:2,11,20]["oy@!".indexOf(E)+1];var H=new RegExp("^-?\\d{1,"+F+"}");var D=o.substring(t).match(H);if(!D){throw"Missing number at position {0}".replace(/\{0\}/,t)}t+=D[0].length;return parseInt(D[0],10)};var m=function(C,E,H,F){var G=(j(C,F)?H:E);for(var D=0;D<G.length;D++){if(o.substr(t,G[D].length).toLowerCase()==G[D].toLowerCase()){t+=G[D].length;return D+1}}throw"Unknown name at position {0}".replace(/\{0\}/,t)};var q=function(){if(o.charAt(t)!=u.charAt(h)){throw"Unexpected literal at position {0}".replace(/\{0\}/,t)}t++};var t=0;for(var h=0;h<u.length;h++){if(r){if(u.charAt(h)=="'"&&!j("'")){r=false}else{q()}}else{switch(u.charAt(h)){case"d":s=B("d");break;case"D":m("D",n,z);break;case"o":l=B("o");break;case"w":B("w");break;case"m":A=B("m");break;case"M":A=m("M",f,i);break;case"y":var v=h;w=!j("y",2);h=v;k=B("y",2);break;case"@":var y=this._normaliseDate(new Date(B("@")*1000));k=y.getFullYear();A=y.getMonth()+1;s=y.getDate();break;case"!":var y=this._normaliseDate(new Date((B("!")-this._ticksTo1970)/10000));k=y.getFullYear();A=y.getMonth()+1;s=y.getDate();break;case"*":t=o.length;break;case"'":if(j("'")){q()}else{r=true}break;default:q()}}}if(t<o.length){throw"Additional text found at end"}if(k==-1){k=this.today().getFullYear()}else{if(k<100&&w){k+=(g==-1?1900:this.today().getFullYear()-this.today().getFullYear()%100-(k<=g?0:100))}}if(l>-1){A=1;s=l;for(var p=this.daysInMonth(k,A);s>p;p=this.daysInMonth(k,A)){A++;s-=p}}var y=this.newDate(k,A,s);if(y.getFullYear()!=k||y.getMonth()+1!=A||y.getDate()!=s){throw"Invalid date"}return y},determineDate:function(h,k,g,f,j){if(g&&typeof g!="object"){j=f;f=g;g=null}if(typeof f!="string"){j=f;f=""}var i=function(p){try{return d.parseDate(f,p,j)}catch(o){}p=p.toLowerCase();var l=(p.match(/^c/)&&g?d.newDate(g):null)||d.today();var n=/([+-]?[0-9]+)\s*(d|w|m|y)?/g;var m=null;while(m=n.exec(p)){l=d.add(l,parseInt(m[1],10),m[2]||"d")}return l};k=(k?d.newDate(k):null);h=(h==null?k:(typeof h=="string"?i(h):(typeof h=="number"?(isNaN(h)||h==Infinity||h==-Infinity?k:d.add(d.today(),h,"d")):d.newDate(h))));return h},daysInMonth:function(f,g){g=(f.getFullYear?f.getMonth()+1:g);f=(f.getFullYear?f.getFullYear():f);return this.newDate(f,g+1,0).getDate()},dayOfYear:function(i,j,f){var h=(i.getFullYear?i:this.newDate(i,j,f));var g=this.newDate(h.getFullYear(),1,1);return Math.floor((h.getTime()-g.getTime())/this._msPerDay)+1},iso8601Week:function(g,i,f){var j=(g.getFullYear?new Date(g.getTime()):this.newDate(g,i,f));j.setDate(j.getDate()+4-(j.getDay()||7));var h=j.getTime();j.setMonth(0,1);return Math.floor(Math.round((h-j)/86400000)/7)+1},today:function(){return this._normaliseDate(new Date())},newDate:function(g,h,f){return(!g?null:(g.getFullYear?this._normaliseDate(new Date(g.getTime())):new Date(g,h-1,f,12)))},_normaliseDate:function(f){if(f){f.setHours(12,0,0,0)}return f},year:function(f,g){f.setFullYear(g);return this._normaliseDate(f)},month:function(f,g){f.setMonth(g-1);return this._normaliseDate(f)},day:function(g,f){g.setDate(f);return this._normaliseDate(g)},add:function(f,g,j){if(j=="d"||j=="w"){this._normaliseDate(f);f.setDate(f.getDate()+g*(j=="w"?7:1))}else{var h=f.getFullYear()+(j=="y"?g:0);var i=f.getMonth()+(j=="m"?g:0);f.setTime(d.newDate(h,i+1,Math.min(f.getDate(),this.daysInMonth(h,i+1))).getTime())}return f},_applyMonthsOffset:function(f,g){var h=g.options.monthsOffset;if(e.isFunction(h)){h=h.apply(g.target[0],[f])}return d.add(f,-h,"m")},_attachPlugin:function(i,f){i=e(i);if(i.hasClass(this.markerClassName)){return}var g=(e.fn.metadata?i.metadata():{});var h={options:e.extend({},this._defaults,g,f),target:i,selectedDates:[],drawDate:null,pickingRange:false,inline:(e.inArray(i[0].nodeName.toLowerCase(),["div","span"])>-1),get:function(j){if(e.inArray(j,["defaultDate","minDate","maxDate"])>-1){return d.determineDate(this.options[j],null,this.selectedDates[0],this.options.dateFormat,h.getConfig())}return this.options[j]},curMinDate:function(){return(this.pickingRange?this.selectedDates[0]:this.get("minDate"))},getConfig:function(){return{dayNamesShort:this.options.dayNamesShort,dayNames:this.options.dayNames,monthNamesShort:this.options.monthNamesShort,monthNames:this.options.monthNames,calculateWeek:this.options.calculateWeek,shortYearCutoff:this.options.shortYearCutoff}}};i.addClass(this.markerClassName).data(this.propertyName,h);if(h.inline){h.drawDate=d._checkMinMax(d.newDate(h.selectedDates[0]||h.get("defaultDate")||d.today()),h);h.prevDate=d.newDate(h.drawDate);this._update(i[0]);if(e.fn.mousewheel){i.mousewheel(this._doMouseWheel)}}else{this._attachments(i,h);i.bind("keydown."+this.propertyName,this._keyDown).bind("keypress."+this.propertyName,this._keyPress).bind("keyup."+this.propertyName,this._keyUp);if(i.attr("disabled")){this._disablePlugin(i[0])}}},_optionPlugin:function(l,g,i){l=e(l);var h=l.data(this.propertyName);if(!g||(typeof g=="string"&&i==null)){var f=g;g=(h||{}).options;return(g&&f?g[f]:g)}if(!l.hasClass(this.markerClassName)){return}g=g||{};if(typeof g=="string"){var f=g;g={};g[f]=i}if(g.calendar&&g.calendar!=h.options.calendar){var k=function(m){return(typeof h.options[m]=="object"?null:h.options[m])};g=e.extend({defaultDate:k("defaultDate"),minDate:k("minDate"),maxDate:k("maxDate")},g);h.selectedDates=[];h.drawDate=null}var j=h.selectedDates;e.extend(h.options,g);this._setDatePlugin(l[0],j,null,false,true);h.pickingRange=false;h.drawDate=d.newDate(this._checkMinMax((h.options.defaultDate?h.get("defaultDate"):h.drawDate)||h.get("defaultDate")||d.today(),h));if(!h.inline){this._attachments(l,h)}if(h.inline||h.div){this._update(l[0])}},_attachments:function(j,g){j.unbind("focus."+this.propertyName);if(g.options.showOnFocus){j.bind("focus."+this.propertyName,this._showPlugin)}if(g.trigger){g.trigger.remove()}var f=g.options.showTrigger;g.trigger=(!f?e([]):e(f).clone().removeAttr("id").addClass(this._triggerClass)[g.options.isRTL?"insertBefore":"insertAfter"](j).click(function(){if(!d._isDisabledPlugin(j[0])){d[d.curInst==g?"_hidePlugin":"_showPlugin"](j[0])}}));this._autoSize(j,g);var i=this._extractDates(g,j.val());if(i){this._setDatePlugin(j[0],i,null,true)}var h=g.get("defaultDate");if(g.options.selectDefaultDate&&h&&g.selectedDates.length==0){this._setDatePlugin(j[0],d.newDate(h||d.today()))}},_autoSize:function(j,i){if(i.options.autoSize&&!i.inline){var h=d.newDate(2009,10,20);var f=i.options.dateFormat;if(f.match(/[DM]/)){var g=function(n){var k=0;var l=0;for(var m=0;m<n.length;m++){if(n[m].length>k){k=n[m].length;l=m}}return l};h.setMonth(g(i.options[f.match(/MM/)?"monthNames":"monthNamesShort"]));h.setDate(g(i.options[f.match(/DD/)?"dayNames":"dayNamesShort"])+20-h.getDay())}i.target.attr("size",d.formatDate(f,h,i.getConfig()).length)}},_destroyPlugin:function(g){g=e(g);if(!g.hasClass(this.markerClassName)){return}var f=g.data(this.propertyName);if(f.trigger){f.trigger.remove()}g.removeClass(this.markerClassName).removeData(this.propertyName).empty().unbind("."+this.propertyName);if(f.inline&&e.fn.mousewheel){g.unmousewheel()}if(!f.inline&&f.options.autoSize){g.removeAttr("size")}},multipleEvents:function(g){var f=arguments;return function(h){for(var j=0;j<f.length;j++){f[j].apply(this,arguments)}}},_enablePlugin:function(g){g=e(g);if(!g.hasClass(this.markerClassName)){return}var f=g.data(this.propertyName);if(f.inline){g.children("."+this._disableClass).remove().end().find("button,select").removeAttr("disabled").end().find("a").attr("href","javascript:void(0)")}else{g.prop("disabled",false);f.trigger.filter("button."+this._triggerClass).removeAttr("disabled").end().filter("img."+this._triggerClass).css({opacity:"1.0",cursor:""})}this._disabled=e.map(this._disabled,function(h){return(h==g[0]?null:h)})},_disablePlugin:function(h){h=e(h);if(!h.hasClass(this.markerClassName)){return}var f=h.data(this.propertyName);if(f.inline){var g=h.children(":last");var j=g.offset();var i={left:0,top:0};g.parents().each(function(){if(e(this).css("position")=="relative"){i=e(this).offset();return false}});var k=h.css("zIndex");k=(k=="auto"?0:parseInt(k,10))+1;h.prepend('<div class="'+this._disableClass+'" style="width: '+g.outerWidth()+"px; height: "+g.outerHeight()+"px; left: "+(j.left-i.left)+"px; top: "+(j.top-i.top)+"px; z-index: "+k+'"></div>').find("button,select").attr("disabled","disabled").end().find("a").removeAttr("href")}else{h.prop("disabled",true);f.trigger.filter("button."+this._triggerClass).attr("disabled","disabled").end().filter("img."+this._triggerClass).css({opacity:"0.5",cursor:"default"})}this._disabled=e.map(this._disabled,function(l){return(l==h[0]?null:l)});this._disabled.push(h[0])},_isDisabledPlugin:function(f){return(f&&e.inArray(f,this._disabled)>-1)},_showPlugin:function(k){k=e(k.target||k);var j=k.data(d.propertyName);if(d.curInst==j){return}if(d.curInst){d._hidePlugin(d.curInst,true)}if(j){j.lastVal=null;j.selectedDates=d._extractDates(j,k.val());j.pickingRange=false;j.drawDate=d._checkMinMax(d.newDate(j.selectedDates[0]||j.get("defaultDate")||d.today()),j);j.prevDate=d.newDate(j.drawDate);d.curInst=j;d._update(k[0],true);var l=d._checkOffset(j);j.div.css({left:l.left,top:l.top});var f=j.options.showAnim;var h=j.options.showSpeed;h=(h=="normal"&&e.ui&&e.ui.version>="1.8"?"_default":h);if(e.effects&&e.effects[f]){var i=j.div.data();for(var g in i){if(g.match(/^ec\.storage\./)){i[g]=j._mainDiv.css(g.replace(/ec\.storage\./,""))}}j.div.data(i).show(f,j.options.showOptions,h)}else{j.div[f||"show"]((f?h:""))}}},_extractDates:function(m,k){if(k==m.lastVal){return}m.lastVal=k;k=k.split(m.options.multiSelect?m.options.multiSeparator:(m.options.rangeSelect?m.options.rangeSeparator:"\x00"));var o=[];for(var h=0;h<k.length;h++){try{var g=d.parseDate(m.options.dateFormat,k[h],m.getConfig());if(g){var l=false;for(var f=0;f<o.length;f++){if(o[f].getTime()==g.getTime()){l=true;break}}if(!l){o.push(g)}}}catch(n){}}o.splice(m.options.multiSelect||(m.options.rangeSelect?2:1),o.length);if(m.options.rangeSelect&&o.length==1){o[1]=o[0]}return o},_update:function(h,g){h=e(h.target||h);var f=h.data(d.propertyName);if(f){if(f.inline||d.curInst==f){if(e.isFunction(f.options.onChangeMonthYear)&&(!f.prevDate||f.prevDate.getFullYear()!=f.drawDate.getFullYear()||f.prevDate.getMonth()!=f.drawDate.getMonth())){f.options.onChangeMonthYear.apply(h[0],[f.drawDate.getFullYear(),f.drawDate.getMonth()+1])}}if(f.inline){h.html(this._generateContent(h[0],f))}else{if(d.curInst==f){if(!f.div){f.div=e("<div></div>").addClass(this._popupClass).css({display:(g?"none":"static"),position:"absolute",left:h.offset().left,top:h.offset().top+h.outerHeight()}).appendTo(e(f.options.popupContainer||"body"));if(e.fn.mousewheel){f.div.mousewheel(this._doMouseWheel)}}f.div.html(this._generateContent(h[0],f));h.focus()}}}},_updateInput:function(n,f){var m=e.data(n,this.propertyName);if(m){var l="";var g="";var h=(m.options.multiSelect?m.options.multiSeparator:m.options.rangeSeparator);var k=m.options.altFormat||m.options.dateFormat;for(var j=0;j<m.selectedDates.length;j++){l+=(f?"":(j>0?h:"")+d.formatDate(m.options.dateFormat,m.selectedDates[j],m.getConfig()));g+=(j>0?h:"")+d.formatDate(k,m.selectedDates[j],m.getConfig())}if(!m.inline&&!f){e(n).val(l)}e(m.options.altField).val(g);if(e.isFunction(m.options.onSelect)&&!f&&!m.inSelect){m.inSelect=true;m.options.onSelect.apply(n,[m.selectedDates]);m.inSelect=false}}},_getBorders:function(f){var g=function(h){return{thin:1,medium:3,thick:5}[h]||h};return[parseFloat(g(f.css("border-left-width"))),parseFloat(g(f.css("border-top-width")))]},_checkOffset:function(k){var g=(k.target.is(":hidden")&&k.trigger?k.trigger:k.target);var j=g.offset();var t=e(window).width();var l=e(window).height();if(t==0){return j}var h=false;e(k.target).parents().each(function(){h|=e(this).css("position")=="fixed";return!h});var s=document.documentElement.scrollLeft||document.body.scrollLeft;var r=document.documentElement.scrollTop||document.body.scrollTop;var o=j.top-(h?r:0)-k.div.outerHeight();var q=j.top-(h?r:0)+g.outerHeight();var p=j.left-(h?s:0);var m=j.left-(h?s:0)+g.outerWidth()-k.div.outerWidth();var i=(j.left-s+k.div.outerWidth())>t;var f=(j.top-r+k.target.outerHeight()+k.div.outerHeight())>l;k.div.css("position",h?"fixed":"absolute");var n=k.options.alignment;if(n=="topLeft"){j={left:p,top:o}}else{if(n=="topRight"){j={left:m,top:o}}else{if(n=="bottomLeft"){j={left:p,top:q}}else{if(n=="bottomRight"){j={left:m,top:q}}else{if(n=="top"){j={left:(k.options.isRTL||i?m:p),top:o}}else{j={left:(k.options.isRTL||i?m:p),top:(f?o:q)}}}}}}j.left=Math.max((h?0:s),j.left);j.top=Math.max((h?0:r),j.top);return j},_checkExternalClick:function(f){if(!d.curInst){return}var g=e(f.target);if(!g.parents().andSelf().hasClass(d._popupClass)&&!g.hasClass(d.markerClassName)&&!g.parents().andSelf().hasClass(d._triggerClass)){d._hidePlugin(d.curInst)}},_hidePlugin:function(l,h){if(!l){return}var k=e.data(l,this.propertyName)||l;if(k&&k==d.curInst){var g=(h?"":k.options.showAnim);var i=k.options.showSpeed;i=(i=="normal"&&e.ui&&e.ui.version>="1.8"?"_default":i);var j=function(){if(!k.div){return}k.div.remove();k.div=null;d.curInst=null;if(e.isFunction(k.options.onClose)){k.options.onClose.apply(l,[k.selectedDates])}};k.div.stop();if(e.effects&&e.effects[g]){k.div.hide(g,k.options.showOptions,i,j)}else{var f=(g=="slideDown"?"slideUp":(g=="fadeIn"?"fadeOut":"hide"));k.div[f]((g?i:""),j)}if(!g){j()}}},_keyDown:function(h){var k=h.target;var i=e.data(k,d.propertyName);var j=false;if(i.div){if(h.keyCode==9){d._hidePlugin(k)}else{if(h.keyCode==13){d._selectDatePlugin(k,e("a."+i.options.renderer.highlightedClass,i.div)[0]);j=true}else{var f=i.options.commands;for(var g in f){var l=f[g];if(l.keystroke.keyCode==h.keyCode&&!!l.keystroke.ctrlKey==!!(h.ctrlKey||h.metaKey)&&!!l.keystroke.altKey==h.altKey&&!!l.keystroke.shiftKey==h.shiftKey){d._performActionPlugin(k,g);j=true;break}}}}}else{var l=i.options.commands.current;if(l.keystroke.keyCode==h.keyCode&&!!l.keystroke.ctrlKey==!!(h.ctrlKey||h.metaKey)&&!!l.keystroke.altKey==h.altKey&&!!l.keystroke.shiftKey==h.shiftKey){d._showPlugin(k);j=true}}i.ctrlKey=((h.keyCode<48&&h.keyCode!=32)||h.ctrlKey||h.metaKey);if(j){h.preventDefault();h.stopPropagation()}return!j},_keyPress:function(h){var i=e.data(h.target,d.propertyName);if(i&&i.options.constrainInput){var g=String.fromCharCode(h.keyCode||h.charCode);var f=d._allowedChars(i);return(h.metaKey||i.ctrlKey||g<" "||!f||f.indexOf(g)>-1)}return true},_allowedChars:function(m){var g=(m.options.multiSelect?m.options.multiSeparator:(m.options.rangeSelect?m.options.rangeSeparator:""));var l=false;var h=false;var f=m.options.dateFormat;for(var j=0;j<f.length;j++){var k=f.charAt(j);if(l){if(k=="'"&&f.charAt(j+1)!="'"){l=false}else{g+=k}}else{switch(k){case"d":case"m":case"o":case"w":g+=(h?"":"0123456789");h=true;break;case"y":case"@":case"!":g+=(h?"":"0123456789")+"-";h=true;break;case"J":g+=(h?"":"0123456789")+"-.";h=true;break;case"D":case"M":case"Y":return null;case"'":if(f.charAt(j+1)=="'"){g+="'"}else{l=true}break;default:g+=k}}}return g},_keyUp:function(f){var i=f.target;var g=e.data(i,d.propertyName);if(g&&!g.ctrlKey&&g.lastVal!=g.target.val()){try{var h=d._extractDates(g,g.target.val());if(h.length>0){d._setDatePlugin(i,h,null,true)}}catch(f){}}return true},_doMouseWheel:function(f,i){var h=(d.curInst&&d.curInst.target[0])||e(f.target).closest("."+d.markerClassName)[0];if(d._isDisabledPlugin(h)){return}var g=e.data(h,d.propertyName);if(g.options.useMouseWheel){i=(i<0?-1:+1);d._changeMonthPlugin(h,-g.options[f.ctrlKey?"monthsToJump":"monthsToStep"]*i)}f.preventDefault()},_clearPlugin:function(h){var f=e.data(h,this.propertyName);if(f){f.selectedDates=[];this._hidePlugin(h);var g=f.get("defaultDate");if(f.options.selectDefaultDate&&g){this._setDatePlugin(h,d.newDate(g||d.today()))}else{this._updateInput(h)}}},_getDatePlugin:function(g){var f=e.data(g,this.propertyName);return(f?f.selectedDates:[])},_setDatePlugin:function(s,g,r,h,o){var q=e.data(s,this.propertyName);if(q){if(!e.isArray(g)){g=[g];if(r){g.push(r)}}var n=q.get("minDate");var f=q.get("maxDate");var l=q.selectedDates[0];q.selectedDates=[];for(var p=0;p<g.length;p++){var k=d.determineDate(g[p],null,l,q.options.dateFormat,q.getConfig());if(k){if((!n||k.getTime()>=n.getTime())&&(!f||k.getTime()<=f.getTime())){var t=false;for(var m=0;m<q.selectedDates.length;m++){if(q.selectedDates[m].getTime()==k.getTime()){t=true;break}}if(!t){q.selectedDates.push(k)}}}}q.selectedDates.splice(q.options.multiSelect||(q.options.rangeSelect?2:1),q.selectedDates.length);if(q.options.rangeSelect){switch(q.selectedDates.length){case 1:q.selectedDates[1]=q.selectedDates[0];break;case 2:q.selectedDates[1]=(q.selectedDates[0].getTime()>q.selectedDates[1].getTime()?q.selectedDates[0]:q.selectedDates[1]);break}q.pickingRange=false}q.prevDate=(q.drawDate?d.newDate(q.drawDate):null);q.drawDate=this._checkMinMax(d.newDate(q.selectedDates[0]||q.get("defaultDate")||d.today()),q);if(!o){this._update(s);this._updateInput(s,h)}}},_isSelectablePlugin:function(h,f){var g=e.data(h,this.propertyName);if(!g){return false}f=d.determineDate(f,g.selectedDates[0]||this.today(),null,g.options.dateFormat,g.getConfig());return this._isSelectable(h,f,g.options.onDate,g.get("minDate"),g.get("maxDate"))},_isSelectable:function(j,g,f,i,k){var h=(typeof f=="boolean"?{selectable:f}:(!e.isFunction(f)?{}:f.apply(j,[g,true])));return(h.selectable!=false)&&(!i||g.getTime()>=i.getTime())&&(!k||g.getTime()<=k.getTime())},_performActionPlugin:function(i,h){var g=e.data(i,this.propertyName);if(g&&!this._isDisabledPlugin(i)){var f=g.options.commands;if(f[h]&&f[h].enabled.apply(i,[g])){f[h].action.apply(i,[g])}}},_showMonthPlugin:function(k,h,j,g){var i=e.data(k,this.propertyName);if(i&&(g!=null||(i.drawDate.getFullYear()!=h||i.drawDate.getMonth()+1!=j))){i.prevDate=d.newDate(i.drawDate);var f=this._checkMinMax((h!=null?d.newDate(h,j,1):d.today()),i);i.drawDate=d.newDate(f.getFullYear(),f.getMonth()+1,(g!=null?g:Math.min(i.drawDate.getDate(),d.daysInMonth(f.getFullYear(),f.getMonth()+1))));this._update(k)}},_changeMonthPlugin:function(h,i){var g=e.data(h,this.propertyName);if(g){var f=d.add(d.newDate(g.drawDate),i,"m");this._showMonthPlugin(h,f.getFullYear(),f.getMonth()+1)}},_changeDayPlugin:function(h,i){var g=e.data(h,this.propertyName);if(g){var f=d.add(d.newDate(g.drawDate),i,"d");this._showMonthPlugin(h,f.getFullYear(),f.getMonth()+1,f.getDate())}},_checkMinMax:function(f,h){var g=h.get("minDate");var i=h.get("maxDate");f=(g&&f.getTime()<g.getTime()?d.newDate(g):f);f=(i&&f.getTime()>i.getTime()?d.newDate(i):f);return f},_retrieveDatePlugin:function(h,f){var g=e.data(h,this.propertyName);return(!g?null:this._normaliseDate(new Date(parseInt(f.className.replace(/^.*dp(-?\d+).*$/,"$1"),10))))},_selectDatePlugin:function(l,h){var k=e.data(l,this.propertyName);if(k&&!this._isDisabledPlugin(l)){var f=this._retrieveDatePlugin(l,h);if(k.options.multiSelect){var j=false;for(var g=0;g<k.selectedDates.length;g++){if(f.getTime()==k.selectedDates[g].getTime()){k.selectedDates.splice(g,1);j=true;break}}if(!j&&k.selectedDates.length<k.options.multiSelect){k.selectedDates.push(f)}}else{if(k.options.rangeSelect){if(k.pickingRange){k.selectedDates[1]=f}else{k.selectedDates=[f,f]}k.pickingRange=!k.pickingRange}else{k.selectedDates=[f]}}k.prevDate=d.newDate(f);this._updateInput(l);if(k.inline||k.pickingRange||k.selectedDates.length<(k.options.multiSelect||(k.options.rangeSelect?2:1))){this._update(l)}else{this._hidePlugin(l)}}},_generateContent:function(n,k){var q=k.options.monthsToShow;q=(e.isArray(q)?q:[1,q]);k.drawDate=this._checkMinMax(k.drawDate||k.get("defaultDate")||d.today(),k);var p=d._applyMonthsOffset(d.newDate(k.drawDate),k);var o="";for(var s=0;s<q[0];s++){var h="";for(var j=0;j<q[1];j++){h+=this._generateMonth(n,k,p.getFullYear(),p.getMonth()+1,k.options.renderer,(s==0&&j==0));d.add(p,1,"m")}o+=this._prepare(k.options.renderer.monthRow,k).replace(/\{months\}/,h)}var m=this._prepare(k.options.renderer.picker,k).replace(/\{months\}/,o).replace(/\{weekHeader\}/g,this._generateDayHeaders(k,k.options.renderer));var i=function(x,v,z,u,w){if(m.indexOf("{"+x+":"+u+"}")==-1){return}var y=k.options.commands[u];var t=(k.options.commandsAsDateFormat?y.date.apply(n,[k]):null);m=m.replace(new RegExp("\\{"+x+":"+u+"\\}","g"),"<"+v+(y.status?' title="'+k.options[y.status]+'"':"")+' class="'+k.options.renderer.commandClass+" "+k.options.renderer.commandClass+"-"+u+" "+w+(y.enabled(k)?"":" "+k.options.renderer.disabledClass)+'">'+(t?d.formatDate(k.options[y.text],t,k.getConfig()):k.options[y.text])+"</"+z+">")};for(var f in k.options.commands){i("button",'button type="button"',"button",f,k.options.renderer.commandButtonClass);i("link",'a href="javascript:void(0)"',"a",f,k.options.renderer.commandLinkClass)}m=e(m);if(q[1]>1){var l=0;e(k.options.renderer.monthSelector,m).each(function(){var t=++l%q[1];e(this).addClass(t==1?"first":(t==0?"last":""))})}var r=this;m.find(k.options.renderer.daySelector+" a").hover(function(){e(this).addClass(k.options.renderer.highlightedClass)},function(){(k.inline?e(this).parents("."+r.markerClassName):k.div).find(k.options.renderer.daySelector+" a").removeClass(k.options.renderer.highlightedClass)}).click(function(){r._selectDatePlugin(n,this)}).end().find("select."+this._monthYearClass+":not(."+this._anyYearClass+")").change(function(){var t=e(this).val().split("/");r._showMonthPlugin(n,parseInt(t[1],10),parseInt(t[0],10))}).end().find("select."+this._anyYearClass).click(function(){e(this).css("visibility","hidden").next("input").css({left:this.offsetLeft,top:this.offsetTop,width:this.offsetWidth,height:this.offsetHeight}).show().focus()}).end().find("input."+r._monthYearClass).change(function(){try{var t=parseInt(e(this).val(),10);t=(isNaN(t)?k.drawDate.getFullYear():t);r._showMonthPlugin(n,t,k.drawDate.getMonth()+1,k.drawDate.getDate())}catch(u){alert(u)}}).keydown(function(t){if(t.keyCode==13){e(t.target).change()}else{if(t.keyCode==27){e(t.target).hide().prev("select").css("visibility","visible");k.target.focus()}}});m.find("."+k.options.renderer.commandClass).click(function(){if(!e(this).hasClass(k.options.renderer.disabledClass)){var t=this.className.replace(new RegExp("^.*"+k.options.renderer.commandClass+"-([^ ]+).*$"),"$1");d._performActionPlugin(n,t)}});if(k.options.isRTL){m.addClass(k.options.renderer.rtlClass)}if(q[0]*q[1]>1){m.addClass(k.options.renderer.multiClass)}if(k.options.pickerClass){m.addClass(k.options.pickerClass)}e("body").append(m);var g=0;m.find(k.options.renderer.monthSelector).each(function(){g+=e(this).outerWidth()});m.width(g/q[0]);if(e.isFunction(k.options.onShow)){k.options.onShow.apply(n,[m,k])}return m},_generateMonth:function(H,k,v,F,y,o){var g=d.daysInMonth(v,F);var h=k.options.monthsToShow;h=(e.isArray(h)?h:[1,h]);var q=k.options.fixedWeeks||(h[0]*h[1]>1);var s=k.options.firstDay;var J=(d.newDate(v,F,1).getDay()-s+7)%7;var m=(q?6:Math.ceil((J+g)/7));var w=k.options.selectOtherMonths&&k.options.showOtherMonths;var p=(k.pickingRange?k.selectedDates[0]:k.get("minDate"));var t=k.get("maxDate");var C=y.week.indexOf("{weekOfYear}")>-1;var E=d.today();var G=d.newDate(v,F,1);d.add(G,-J-(q&&(G.getDay()==s)?7:0),"d");var f=G.getTime();var n="";for(var z=0;z<m;z++){var I=(!C?"":'<span class="dp'+f+'">'+(e.isFunction(k.options.calculateWeek)?k.options.calculateWeek(G):0)+"</span>");var l="";for(var B=0;B<7;B++){var x=false;if(k.options.rangeSelect&&k.selectedDates.length>0){x=(G.getTime()>=k.selectedDates[0]&&G.getTime()<=k.selectedDates[1])}else{for(var A=0;A<k.selectedDates.length;A++){if(k.selectedDates[A].getTime()==G.getTime()){x=true;break}}}var D=(!e.isFunction(k.options.onDate)?{}:k.options.onDate.apply(H,[G,G.getMonth()+1==F]));var r=(w||G.getMonth()+1==F)&&this._isSelectable(H,G,D.selectable,p,t);l+=this._prepare(y.day,k).replace(/\{day\}/g,(r?'<a href="javascript:void(0)"':"<span")+' class="dp'+f+" "+(D.dateClass||"")+(x&&(w||G.getMonth()+1==F)?" "+y.selectedClass:"")+(r?" "+y.defaultClass:"")+((G.getDay()||7)<6?"":" "+y.weekendClass)+(G.getMonth()+1==F?"":" "+y.otherMonthClass)+(G.getTime()==E.getTime()&&(G.getMonth()+1)==F?" "+y.todayClass:"")+(G.getTime()==k.drawDate.getTime()&&(G.getMonth()+1)==F?" "+y.highlightedClass:"")+'"'+(D.title||(k.options.dayStatus&&r)?' title="'+(D.title||d.formatDate(k.options.dayStatus,G,k.getConfig()))+'"':"")+">"+(k.options.showOtherMonths||(G.getMonth()+1)==F?D.content||G.getDate():"")+(r?"</a>":"</span>"));d.add(G,1,"d");f=G.getTime()}n+=this._prepare(y.week,k).replace(/\{days\}/g,l).replace(/\{weekOfYear\}/g,I)}var j=this._prepare(y.month,k).match(/\{monthHeader(:[^\}]+)?\}/);j=(j[0].length<=13?"MM yyyy":j[0].substring(13,j[0].length-1));j=(o?this._generateMonthSelection(k,v,F,p,t,j,y):d.formatDate(j,d.newDate(v,F,1),k.getConfig()));var u=this._prepare(y.weekHeader,k).replace(/\{days\}/g,this._generateDayHeaders(k,y));return this._prepare(y.month,k).replace(/\{monthHeader(:[^\}]+)?\}/g,j).replace(/\{weekHeader\}/g,u).replace(/\{weeks\}/g,n)},_generateDayHeaders:function(h,g){var j="";for(var f=0;f<7;f++){var i=(f+h.options.firstDay)%7;j+=this._prepare(g.dayHeader,h).replace(/\{day\}/g,'<span class="'+this._curDoWClass+i+'" title="'+h.options.dayNames[i]+'">'+h.options.dayNamesMin[i]+"</span>")}return j},_generateMonthSelection:function(n,r,p,k,f,u){if(!n.options.changeMonth){return d.formatDate(u,d.newDate(r,p,1),n.getConfig())}var l=n.options["monthNames"+(u.match(/mm/i)?"":"Short")];var o=u.replace(/m+/i,"\\x2E").replace(/y+/i,"\\x2F");var i='<select class="'+this._monthYearClass+'" title="'+n.options.monthStatus+'">';for(var h=1;h<=12;h++){if((!k||d.newDate(r,h,d.daysInMonth(r,h)).getTime()>=k.getTime())&&(!f||d.newDate(r,h,1).getTime()<=f.getTime())){i+='<option value="'+h+"/"+r+'"'+(p==h?' selected="selected"':"")+">"+l[h-1]+"</option>"}}i+="</select>";o=o.replace(/\\x2E/,i);var v=n.options.yearRange;if(v=="any"){i='<select class="'+this._monthYearClass+" "+this._anyYearClass+'" title="'+n.options.yearStatus+'"><option>'+r+'</option></select><input class="'+this._monthYearClass+" "+this._curMonthClass+p+'" value="'+r+'">'}else{v=v.split(":");var t=d.today().getFullYear();var g=(v[0].match("c[+-].*")?r+parseInt(v[0].substring(1),10):((v[0].match("[+-].*")?t:0)+parseInt(v[0],10)));var j=(v[1].match("c[+-].*")?r+parseInt(v[1].substring(1),10):((v[1].match("[+-].*")?t:0)+parseInt(v[1],10)));i='<select class="'+this._monthYearClass+'" title="'+n.options.yearStatus+'">';g=d.add(d.newDate(g+1,1,1),-1,"d");j=d.newDate(j,1,1);var q=function(m){if(m!=0){i+='<option value="'+p+"/"+m+'"'+(r==m?' selected="selected"':"")+">"+m+"</option>"}};if(g.getTime()<j.getTime()){g=(k&&k.getTime()>g.getTime()?k:g).getFullYear();j=(f&&f.getTime()<j.getTime()?f:j).getFullYear();for(var s=g;s<=j;s++){q(s)}}else{g=(f&&f.getTime()<g.getTime()?f:g).getFullYear();j=(k&&k.getTime()>j.getTime()?k:j).getFullYear();for(var s=g;s>=j;s--){q(s)}}i+="</select>"}o=o.replace(/\\x2F/,i);return o},_prepare:function(j,h){var i=function(m,k){while(true){var n=j.indexOf("{"+m+":start}");if(n==-1){return}var l=j.substring(n).indexOf("{"+m+":end}");if(l>-1){j=j.substring(0,n)+(k?j.substr(n+m.length+8,l-m.length-8):"")+j.substring(n+l+m.length+6)}}};i("inline",h.inline);i("popup",!h.inline);var g=/\{l10n:([^\}]+)\}/;var f=null;while(f=g.exec(j)){j=j.replace(f[0],h.options[f[1]])}return j}});var c=["getDate","isDisabled","isSelectable","retrieveDate"];function b(g,f){if(g=="option"&&(f.length==0||(f.length==1&&typeof f[0]=="string"))){return true}return e.inArray(g,c)>-1}e.fn.datepick=function(g){var f=Array.prototype.slice.call(arguments,1);if(b(g,f)){return d["_"+g+"Plugin"].apply(d,[this[0]].concat(f))}return this.each(function(){if(typeof g=="string"){if(!d["_"+g+"Plugin"]){throw"Unknown command: "+g}d["_"+g+"Plugin"].apply(d,[this].concat(f))}else{d._attachPlugin(this,g||{})}})};var d=e.datepick=new a();e(function(){e(document).mousedown(d._checkExternalClick).resize(function(){d._hidePlugin(d.curInst)})})})(jQuery);(function(J,l,W){var K={transition:"elastic",speed:300,width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,inline:false,html:false,iframe:false,fastIframe:true,photo:false,href:false,title:false,rel:false,opacity:0.9,preloading:true,current:"image {current} of {total}",previous:"previous",next:"next",close:'<img src="'+SITE_ROOT_URL+'/common/images/login_cross.png" alt="close" />',xhrError:"This content failed to load.",imgError:"This image failed to load.",open:false,returnFocus:true,reposition:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false,overlayClose:true,escKey:true,arrowKey:true,top:false,bottom:false,left:false,right:false,fixed:false,data:undefined},x="colorbox",S="cbox",r=S+"Element",V=S+"_open",e=S+"_load",U=S+"_complete",u=S+"_cleanup",ac=S+"_closed",i=S+"_purge",v=!J.support.opacity&&!J.support.style,af=v&&!W.XMLHttpRequest,aa=S+"_IE6",Q,ag,ah,d,H,p,b,P,c,Z,N,k,h,o,t,X,s,R,z,B,ae,ai,m,g,a,w,I,n,D,Y,M,A,L,ad="div",ab;function G(aj,am,al){var ak=l.createElement(aj);if(am){ak.id=S+am}if(al){ak.style.cssText=al}return J(ak)}function E(ak){var aj=c.length,al=(I+ak)%aj;return(al<0)?aj+al:al}function O(aj,ak){return Math.round((/%/.test(aj)?((ak==="x"?Z.width():Z.height())/100):1)*parseInt(aj,10))}function C(aj){return ae.photo||/\.(gif|png|jp(e|g|eg)|bmp|ico)((#|\?).*)?$/i.test(aj)}function T(){var aj,ak=J.data(w,x);if(ak==null){ae=J.extend({},K);if(console&&console.log){console.log("Error: cboxElement missing settings object")}}else{ae=J.extend({},ak)}for(aj in ae){if(J.isFunction(ae[aj])&&aj.slice(0,2)!=="on"){ae[aj]=ae[aj].call(w)}}ae.rel=ae.rel||w.rel||J(w).data("rel")||"nofollow";ae.href=ae.href||J(w).attr("href");ae.title=ae.title||w.title;if(typeof ae.href==="string"){ae.href=J.trim(ae.href)}}function F(aj,ak){J.event.trigger(aj);if(ak){ak.call(w)}}function y(){var aj,al=S+"Slideshow_",am="click."+S,an,ak;if(ae.slideshow&&c[1]){an=function(){X.html(ae.slideshowStop).unbind(am).bind(U,function(){if(ae.loop||c[I+1]){aj=setTimeout(L.next,ae.slideshowSpeed)}}).bind(e,function(){clearTimeout(aj)}).one(am+" "+u,ak);ag.removeClass(al+"off").addClass(al+"on");aj=setTimeout(L.next,ae.slideshowSpeed)};ak=function(){clearTimeout(aj);X.html(ae.slideshowStart).unbind([U,e,u,am].join(" ")).one(am,function(){L.next();an()});ag.removeClass(al+"on").addClass(al+"off")};if(ae.slideshowAuto){an()}else{ak()}}else{ag.removeClass(al+"off "+al+"on")}}function f(aj){if(!M){w=aj;T();c=J(w);I=0;if(ae.rel!=="nofollow"){c=J("."+r).filter(function(){var al=J.data(this,x),ak;if(al){ak=J(this).data("rel")||al.rel||this.rel}return(ak===ae.rel)});I=c.index(w);if(I===-1){c=c.add(w);I=c.length-1}}if(!D){D=Y=true;ag.show();if(ae.returnFocus){J(w).blur().one(ac,function(){J(this).focus()})}Q.css({opacity:+ae.opacity,cursor:ae.overlayClose?"pointer":"auto"}).show();ae.w=O(ae.initialWidth,"x");ae.h=O(ae.initialHeight,"y");L.position();if(af){Z.bind("resize."+aa+" scroll."+aa,function(){Q.css({width:Z.width(),height:Z.height(),top:Z.scrollTop(),left:Z.scrollLeft()})}).trigger("resize."+aa)}F(V,ae.onOpen);B.add(o).hide();z.html(ae.close).show()}L.load(true)}}function q(){if(!ag&&l.body){ab=false;Z=J(W);ag=G(ad).attr({id:x,"class":v?S+(af?"IE6":"IE"):""}).hide();Q=G(ad,"Overlay",af?"position:absolute":"").hide();h=G(ad,"LoadingOverlay").add(G(ad,"LoadingGraphic"));ah=G(ad,"Wrapper");d=G(ad,"Content").append(N=G(ad,"LoadedContent","width:0; height:0; overflow:hidden"),o=G(ad,"Title"),t=G(ad,"Current"),s=G(ad,"Next"),R=G(ad,"Previous"),X=G(ad,"Slideshow").bind(V,y),z=G(ad,"Close"));ah.append(G(ad).append(G(ad,"TopLeft"),H=G(ad,"TopCenter"),G(ad,"TopRight")),G(ad,false,"clear:left").append(p=G(ad,"MiddleLeft"),d,b=G(ad,"MiddleRight")),G(ad,false,"clear:left").append(G(ad,"BottomLeft"),P=G(ad,"BottomCenter"),G(ad,"BottomRight"))).find("div div").css({"float":"left"});k=G(ad,false,"position:absolute; width:9999px; visibility:hidden; display:none");B=s.add(R).add(t).add(X);J(l.body).append(Q,ag.append(ah,k))}}function j(){if(ag){if(!ab){ab=true;ai=H.height()+P.height()+d.outerHeight(true)-d.height();m=p.width()+b.width()+d.outerWidth(true)-d.width();g=N.outerHeight(true);a=N.outerWidth(true);ag.css({"padding-bottom":ai,"padding-right":m});s.click(function(){L.next()});R.click(function(){L.prev()});z.click(function(){L.close()});Q.click(function(){if(ae.overlayClose){L.close()}});J(l).bind("keydown."+S,function(ak){var aj=ak.keyCode;if(D&&ae.escKey&&aj===27){ak.preventDefault();L.close()}if(D&&ae.arrowKey&&c[1]){if(aj===37){ak.preventDefault();R.click()}else{if(aj===39){ak.preventDefault();s.click()}}}});J(l).delegate("."+r,"click",function(aj){if(!(aj.which>1||aj.shiftKey||aj.altKey||aj.metaKey)){aj.preventDefault();f(this)}})}return true}return false}if(J.colorbox){return}J(q);L=J.fn[x]=J[x]=function(aj,al){var ak=this;aj=aj||{};q();if(j()){if(!ak[0]){if(ak.selector){return ak}ak=J("<a/>");aj.open=true}if(al){aj.onComplete=al}ak.each(function(){J.data(this,x,J.extend({},J.data(this,x)||K,aj))}).addClass(r);if((J.isFunction(aj.open)&&aj.open.call(ak))||aj.open){f(ak[0])}}return ak};L.position=function(al,an){var ap,ar=0,ak=0,ao=ag.offset(),aj,am;Z.unbind("resize."+S);ag.css({top:-90000,left:-90000});aj=Z.scrollTop();am=Z.scrollLeft();if(ae.fixed&&!af){ao.top-=aj;ao.left-=am;ag.css({position:"fixed"})}else{ar=aj;ak=am;ag.css({position:"absolute"})}if(ae.right!==false){ak+=Math.max(Z.width()-ae.w-a-m-O(ae.right,"x"),0)}else{if(ae.left!==false){ak+=O(ae.left,"x")}else{ak+=Math.round(Math.max(Z.width()-ae.w-a-m,0)/2)}}if(ae.bottom!==false){ar+=Math.max(Z.height()-ae.h-g-ai-O(ae.bottom,"y"),0)}else{if(ae.top!==false){ar+=O(ae.top,"y")}else{ar+=Math.round(Math.max(Z.height()-ae.h-g-ai,0)/2)}}ag.css({top:ao.top,left:ao.left});al=(ag.width()===ae.w+a&&ag.height()===ae.h+g)?0:al||0;ah[0].style.width=ah[0].style.height="9999px";function aq(at){H[0].style.width=P[0].style.width=d[0].style.width=at.style.width;d[0].style.height=p[0].style.height=b[0].style.height=at.style.height}ap={width:ae.w+a,height:ae.h+g,top:ar,left:ak};if(al===0){ag.css(ap)}ag.dequeue().animate(ap,{duration:al,complete:function(){aq(this);Y=false;ah[0].style.width=(ae.w+a+m)+"px";ah[0].style.height=(ae.h+g+ai)+"px";if(ae.reposition){setTimeout(function(){Z.bind("resize."+S,L.position)},1)}if(an){an()}},step:function(){aq(this)}})};L.resize=function(aj){if(D){aj=aj||{};if(aj.width){ae.w=O(aj.width,"x")-a-m}if(aj.innerWidth){ae.w=O(aj.innerWidth,"x")}N.css({width:ae.w});if(aj.height){ae.h=O(aj.height,"y")-g-ai}if(aj.innerHeight){ae.h=O(aj.innerHeight,"y")}if(!aj.innerHeight&&!aj.height){N.css({height:"auto"});ae.h=N.height()}N.css({height:ae.h});L.position(ae.transition==="none"?0:ae.speed)}};L.prep=function(ak){if(!D){return}var an,al=ae.transition==="none"?0:ae.speed;N.remove();N=G(ad,"LoadedContent").append(ak);function aj(){ae.w=ae.w||N.width();ae.w=ae.mw&&ae.mw<ae.w?ae.mw:ae.w;return ae.w}function am(){ae.h=ae.h||N.height();ae.h=ae.mh&&ae.mh<ae.h?ae.mh:ae.h;return ae.h}N.hide().appendTo(k.show()).css({width:aj(),overflow:ae.scrolling?"auto":"hidden"}).css({height:am()}).prependTo(d);k.hide();J(n).css({"float":"none"});if(af){J("select").not(ag.find("select")).filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one(u,function(){this.style.visibility="inherit"})}an=function(){var az,aw,ax=c.length,at,ay="frameBorder",ar="allowTransparency",ap,ao,av,au;if(!D){return}function aq(){if(v){ag[0].style.removeAttribute("filter")}}ap=function(){clearTimeout(A);h.detach().hide();F(U,ae.onComplete)};if(v){if(n){N.fadeIn(100)}}o.html(ae.title).add(N).show();if(ax>1){if(typeof ae.current==="string"){t.html(ae.current.replace("{current}",I+1).replace("{total}",ax)).show()}s[(ae.loop||I<ax-1)?"show":"hide"]().html(ae.next);R[(ae.loop||I)?"show":"hide"]().html(ae.previous);if(ae.slideshow){X.show()}if(ae.preloading){az=[E(-1),E(1)];while(aw=c[az.pop()]){au=J.data(aw,x);if(au&&au.href){ao=au.href;if(J.isFunction(ao)){ao=ao.call(aw)}}else{ao=aw.href}if(C(ao)){av=new Image();av.src=ao}}}}else{B.hide()}if(ae.iframe){at=G("iframe")[0];if(ay in at){at[ay]=0}if(ar in at){at[ar]="true"}if(!ae.scrolling){at.scrolling="no"}J(at).attr({src:ae.href,name:(new Date()).getTime(),"class":S+"Iframe",allowFullScreen:true,webkitAllowFullScreen:true,mozallowfullscreen:true}).one("load",ap).one(i,function(){at.src="//about:blank"}).appendTo(N);if(ae.fastIframe){J(at).trigger("load")}}else{ap()}if(ae.transition==="fade"){ag.fadeTo(al,1,aq)}else{aq()}};if(ae.transition==="fade"){ag.fadeTo(al,0,function(){L.position(0,an)})}else{L.position(al,an)}};L.load=function(al){var ak,am,aj=L.prep;Y=true;n=false;w=c[I];if(!al){T()}var an=w;F(i);F(e,ae.onLoad);ae.h=ae.height?O(ae.height,"y")-g-ai:ae.innerHeight&&O(ae.innerHeight,"y");ae.w=ae.width?O(ae.width,"x")-a-m:ae.innerWidth&&O(ae.innerWidth,"x");if(an.toString().indexOf("#view_details")>0){ae.w=830;ae.h=460}ae.mw=ae.w;ae.mh=ae.h;if(ae.maxWidth){ae.mw=O(ae.maxWidth,"x")-a-m;ae.mw=ae.w&&ae.w<ae.mw?ae.w:ae.mw}if(ae.maxHeight){ae.mh=O(ae.maxHeight,"y")-g-ai;ae.mh=ae.h&&ae.h<ae.mh?ae.h:ae.mh}ak=ae.href;A=setTimeout(function(){h.show().appendTo(d)},100);if(ae.inline){G(ad).hide().insertBefore(J(ak)[0]).one(i,function(){J(this).replaceWith(N.children())});aj(J(ak))}else{if(ae.iframe){aj(" ")}else{if(ae.html){aj(ae.html)}else{if(C(ak)){J(n=new Image()).addClass(S+"Photo").error(function(){ae.title=false;aj(G(ad,"Error").html(ae.imgError))}).load(function(){var ao;n.onload=null;if(ae.scalePhotos){am=function(){n.height-=n.height*ao;n.width-=n.width*ao};if(ae.mw&&n.width>ae.mw){ao=(n.width-ae.mw)/n.width;am()}if(ae.mh&&n.height>ae.mh){ao=(n.height-ae.mh)/n.height;am()}}if(ae.h){n.style.marginTop=Math.max(ae.h-n.height,0)/2+"px"}if(c[1]&&(ae.loop||c[I+1])){n.style.cursor="pointer";n.onclick=function(){L.next()}}if(v){n.style.msInterpolationMode="bicubic"}setTimeout(function(){aj(n)},1)});setTimeout(function(){n.src=ak},1)}else{if(ak){k.load(ak,ae.data,function(ap,ao){aj(ao==="error"?G(ad,"Error").html(ae.xhrError):J(this).contents())})}}}}}};L.next=function(){if(!Y&&c[1]&&(ae.loop||c[I+1])){I=E(1);L.load()}};L.prev=function(){if(!Y&&c[1]&&(ae.loop||I)){I=E(-1);L.load()}};L.close=function(){if(D&&!M){M=true;D=false;F(u,ae.onCleanup);Z.unbind("."+S+" ."+aa);Q.fadeTo(200,0);ag.stop().fadeTo(300,0,function(){ag.add(Q).css({opacity:1,cursor:"auto"}).hide();F(i);N.remove();setTimeout(function(){M=false;F(ac,ae.onClosed)},1)})}};L.remove=function(){J([]).add(ag).add(Q).remove();ag=null;J("."+r).removeData(x).removeClass(r);J(l).undelegate("."+r)};L.element=function(){return J(w)};L.settings=K}(jQuery,document,window));(function(a){a.fn.extend({autocomplete:function(b,c){var d=typeof b=="string";c=a.extend({},a.Autocompleter.defaults,{url:d?b:null,data:d?null:b,delay:d?a.Autocompleter.defaults.delay:10,max:c&&!c.scroll?10000:150},c);c.highlight=c.highlight||function(e){return e};c.formatMatch=c.formatMatch||c.formatItem;return this.each(function(){new a.Autocompleter(this,c)})},result:function(b){return this.bind("result",b)},search:function(b){return this.trigger("search",[b])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(b){return this.trigger("setOptions",[b])},unautocomplete:function(){return this.trigger("unautocomplete")}});a.Autocompleter=function(l,g){var c={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var b=a(l).attr("autocomplete","off").addClass(g.inputClass);var j;var p="";var m=a.Autocompleter.Cache(g);var e=0;var u;var x={mouseDownOnSelect:false};var r=a.Autocompleter.Select(g,l,d,x);var w;a.browser.opera&&a(l.form).bind("submit.autocomplete",function(){if(w){w=false;return false}});b.bind((a.browser.opera?"keypress":"keydown")+".autocomplete",function(y){e=1;u=y.keyCode;switch(y.keyCode){case c.UP:y.preventDefault();if(r.visible()){r.prev()}else{t(0,true)}break;case c.DOWN:y.preventDefault();if(r.visible()){r.next()}else{t(0,true)}break;case c.PAGEUP:y.preventDefault();if(r.visible()){r.pageUp()}else{t(0,true)}break;case c.PAGEDOWN:y.preventDefault();if(r.visible()){r.pageDown()}else{t(0,true)}break;case g.multiple&&a.trim(g.multipleSeparator)==","&&c.COMMA:case c.TAB:case c.RETURN:if(d()){y.preventDefault();w=true;return false}break;case c.ESC:r.hide();break;default:clearTimeout(j);j=setTimeout(t,g.delay);break}}).focus(function(){e++}).blur(function(){e=0;if(!x.mouseDownOnSelect){s()}}).click(function(){if(e++>1&&!r.visible()){t(0,true)}}).bind("search",function(){var y=(arguments.length>1)?arguments[1]:null;function z(D,C){var A;if(C&&C.length){for(var B=0;B<C.length;B++){if(C[B].result.toLowerCase()==D.toLowerCase()){A=C[B];break}}}if(typeof y=="function"){y(A)}else{b.trigger("result",A&&[A.data,A.value])}}a.each(h(b.val()),function(A,B){f(B,z,z)})}).bind("flushCache",function(){m.flush()}).bind("setOptions",function(){a.extend(g,arguments[1]);if("data"in arguments[1]){m.populate()}}).bind("unautocomplete",function(){r.unbind();b.unbind();a(l.form).unbind(".autocomplete")});function d(){var B=r.selected();if(!B){return false}var y=B.result;p=y;if(g.multiple){var E=h(b.val());if(E.length>1){var A=g.multipleSeparator.length;var D=a(l).selection().start;var C,z=0;a.each(E,function(F,G){z+=G.length;if(D<=z){C=F;return false}z+=A});E[C]=y;y=E.join(g.multipleSeparator)}y+=g.multipleSeparator}b.val(y);v();b.trigger("result",[B.data,B.value]);return true}function t(A,z){if(u==c.DEL){r.hide();return}var y=b.val();if(!z&&y==p){return}p=y;y=i(y);if(y.length>=g.minChars){b.addClass(g.loadingClass);if(!g.matchCase){y=y.toLowerCase()}f(y,k,v)}else{n();r.hide()}}function h(y){if(!y){return[""]}if(!g.multiple){return[a.trim(y)]}return a.map(y.split(g.multipleSeparator),function(z){return a.trim(y).length?a.trim(z):null})}function i(y){if(!g.multiple){return y}var A=h(y);if(A.length==1){return A[0]}var z=a(l).selection().start;if(z==y.length){A=h(y)}else{A=h(y.replace(y.substring(z),""))}return A[A.length-1]}function q(y,z){if(g.autoFill&&(i(b.val()).toLowerCase()==y.toLowerCase())&&u!=c.BACKSPACE){b.val(b.val()+z.substring(i(p).length));a(l).selection(p.length,p.length+z.length)}}function s(){clearTimeout(j);j=setTimeout(v,200)}function v(){var y=r.visible();r.hide();clearTimeout(j);n();if(g.mustMatch){b.search(function(z){if(!z){if(g.multiple){var A=h(b.val()).slice(0,-1);b.val(A.join(g.multipleSeparator)+(A.length?g.multipleSeparator:""))}else{b.val("");b.trigger("result",null)}}})}}function k(z,y){if(y&&y.length&&e){n();r.display(y,z);q(z,y[0].value);r.show()}else{v()}}function f(z,B,y){if(!g.matchCase){z=z.toLowerCase()}var A=m.load(z);if(A&&A.length){B(z,A)}else{if((typeof g.url=="string")&&(g.url.length>0)){var C={timestamp:+new Date()};a.each(g.extraParams,function(D,E){C[D]=typeof E=="function"?E():E});a.ajax({mode:"abort",port:"autocomplete"+l.name,dataType:g.dataType,url:g.url,data:a.extend({q:i(z),limit:g.max},C),success:function(E){var D=g.parse&&g.parse(E)||o(E);m.add(z,D);B(z,D)}})}else{r.emptyList();y(z)}}}function o(B){var y=[];var A=B.split("\n");for(var z=0;z<A.length;z++){var C=a.trim(A[z]);if(C){C=C.split("|");y[y.length]={data:C,value:C[0],result:g.formatResult&&g.formatResult(C,C[0])||C[0]}}}return y}function n(){b.removeClass(g.loadingClass)}};a.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:2,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(b){return b[0]},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(c,b){return c.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+b.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:true,scrollHeight:180};a.Autocompleter.Cache=function(c){var f={};var d=0;function h(l,k){if(!c.matchCase){l=l.toLowerCase()}var j=l.indexOf(k);if(c.matchContains=="word"){j=l.toLowerCase().search("\\b"+k.toLowerCase())}if(j==-1){return false}return j==0||c.matchContains}function g(j,i){if(d>c.cacheLength){b()}if(!f[j]){d++}f[j]=i}function e(){if(!c.data){return false}var k={},j=0;if(!c.url){c.cacheLength=1}k[""]=[];for(var m=0,l=c.data.length;m<l;m++){var p=c.data[m];p=(typeof p=="string")?[p]:p;var o=c.formatMatch(p,m+1,c.data.length);if(o===false){continue}var n=o.charAt(0).toLowerCase();if(!k[n]){k[n]=[]}var q={value:o,data:p,result:c.formatResult&&c.formatResult(p)||o};k[n].push(q);if(j++<c.max){k[""].push(q)}}a.each(k,function(r,s){c.cacheLength++;g(r,s)})}setTimeout(e,25);function b(){f={};d=0}return{flush:b,add:g,populate:e,load:function(n){if(!c.cacheLength||!d){return null}if(!c.url&&c.matchContains){var m=[];for(var j in f){if(j.length>0){var o=f[j];a.each(o,function(p,k){if(h(k.value,n)){m.push(k)}})}}return m}else{if(f[n]){return f[n]}else{if(c.matchSubset){for(var l=n.length-1;l>=c.minChars;l--){var o=f[n.substr(0,l)];if(o){var m=[];a.each(o,function(p,k){if(h(k.value,n)){m[m.length]=k}});return m}}}}}return null}}};a.Autocompleter.Select=function(e,j,l,p){var i={ACTIVE:"ac_over"};var k,f=-1,r,m="",s=true,c,o;function n(){if(!s){return}c=a("<div/>").hide().addClass(e.resultsClass).css("position","absolute").appendTo(document.body);o=a("<ul/>").appendTo(c).mouseover(function(t){if(q(t).nodeName&&q(t).nodeName.toUpperCase()=="LI"){f=a("li",o).removeClass(i.ACTIVE).index(q(t));a(q(t)).addClass(i.ACTIVE)}}).click(function(t){a(q(t)).addClass(i.ACTIVE);l();j.focus();return false}).mousedown(function(){p.mouseDownOnSelect=true}).mouseup(function(){p.mouseDownOnSelect=false});if(e.width>0){c.css("width",e.width)}s=false}function q(u){var t=u.target;while(t&&t.tagName!="LI"){t=t.parentNode}if(!t){return[]}return t}function h(t){k.slice(f,f+1).removeClass(i.ACTIVE);g(t);var v=k.slice(f,f+1).addClass(i.ACTIVE);if(e.scroll){var u=0;k.slice(0,f).each(function(){u+=this.offsetHeight});if((u+v[0].offsetHeight-o.scrollTop())>o[0].clientHeight){o.scrollTop(u+v[0].offsetHeight-o.innerHeight())}else{if(u<o.scrollTop()){o.scrollTop(u)}}}}function g(t){f+=t;if(f<0){f=k.size()-1}else{if(f>=k.size()){f=0}}}function b(t){return e.max&&e.max<t?e.max:t}function d(){o.empty();var u=b(r.length);for(var v=0;v<u;v++){if(!r[v]){continue}var w=e.formatItem(r[v].data,v+1,u,r[v].value,m);if(w===false){continue}var t=a("<li/>").html(e.highlight(w,m)).addClass(v%2==0?"ac_even":"ac_odd").appendTo(o)[0];if(w.indexOf("<b>")>=0){a.data(t,"heading",r[v])}else{a.data(t,"ac_data",r[v])}}k=o.find("li");if(e.selectFirst){k.slice(0,1).addClass(i.ACTIVE);f=0}if(a.fn.bgiframe){o.bgiframe()}}return{display:function(u,t){n();r=u;m=t;d()},next:function(){h(1)},prev:function(){h(-1)},pageUp:function(){if(f!=0&&f-8<0){h(-f)}else{h(-8)}},pageDown:function(){if(f!=k.size()-1&&f+8>k.size()){h(k.size()-1-f)}else{h(8)}},hide:function(){c&&c.hide();k&&k.removeClass(i.ACTIVE);f=-1},visible:function(){return c&&c.is(":visible")},current:function(){return this.visible()&&(k.filter("."+i.ACTIVE)[0]||e.selectFirst&&k[0])},show:function(){var v=a(j).offset();c.css({width:typeof e.width=="string"||e.width>0?e.width:a(j).width(),top:v.top+j.offsetHeight,left:v.left}).show();if(e.scroll){o.scrollTop(0);o.css({maxHeight:e.scrollHeight,overflow:"auto"});if(a.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var t=0;k.each(function(){t+=this.offsetHeight});var u=t>e.scrollHeight;o.css("height",u?e.scrollHeight:t);if(!u){k.width(o.width()-parseInt(k.css("padding-left"))-parseInt(k.css("padding-right")))}}}},selected:function(){var t=k&&k.filter("."+i.ACTIVE).removeClass(i.ACTIVE);return t&&t.length&&a.data(t[0],"ac_data")},emptyList:function(){o&&o.empty()},unbind:function(){c&&c.remove()}}};a.fn.selection=function(i,b){if(i!==undefined){return this.each(function(){if(this.createTextRange){var j=this.createTextRange();if(b===undefined||i==b){j.move("character",i);j.select()}else{j.collapse(true);j.moveStart("character",i);j.moveEnd("character",b);j.select()}}else{if(this.setSelectionRange){this.setSelectionRange(i,b)}else{if(this.selectionStart){this.selectionStart=i;this.selectionEnd=b}}}})}var g=this[0];if(g.createTextRange){var c=document.selection.createRange(),h=g.value,f="<->",d=c.text.length;c.text=f;var e=g.value.indexOf(f);g.value=h;this.selection(e,e+d);return{start:e,end:e+d}}else{if(g.selectionStart!==undefined){return{start:g.selectionStart,end:g.selectionEnd}}}}})(jQuery);function chaneHeaderMenu(){if($(window).width()>767){if($("body").find('ul.menu').length>0){$(".menu_child").remove(),$(".menu .last").nextAll().remove(),$(".menu .last").show(),$(".dropdowns_inner").mouseenter(function(){$(this).find("li a").removeClass("active")}),$("ul.menu > li").hoverIntent({over:function(){$(this).find('.dropdowns_outer').slideDown(100);$(this).find(".dropdowns_inner > li:nth-child(1) > a").addClass("active");$(this).find(".dropdowns_inner li:nth-child(1)").find(".dropdetail_outer").slideDown(100);var e=$(this).find(".dropdowns_inner li");$('.menu .last').hover(function(){$('ul.menu li.last:hover a').not(':first').css('height','auto');})},out:function(){$(this).find('.dropdowns_outer').hide();}});}}else{$('ul.menu li.last:hover a').not(':first').css('height','auto');}}
function sendToGiftCard(e){var r=e.frmGiftCardAmount.value,a=e.frmGiftCardFromName.value,o=e.frmGiftCardToName.value,n=e.frmGiftCardToEmail.value,i=e.frmGiftCardMessage.value,t=e.frmGiftCardQty.value,s=e.giftCardCalender.value,p=e.frmGiftCardPage.value;setTimeout(function(){0==e.getElementsByClassName("formError").length&&$.ajax({type:"POST",url:SITE_ROOT_URL+"common/ajax/ajax_cart.php",data:{action:"sentToGiftCard",amount:r,fromName:a,toName:o,toEmail:n,message:i,qty:t,mailDeliveryDate:s},success:function(e){addToAjaxCartValue(),addToAjaxCart(),addToAjaxCartHeader(),$("#cartValue").html(parseInt($("#cartValue").text())+parseInt(t)),$("#idAddToProductCart").html(e),$(".pop_up_sec").css("display","none"),$("#fancybox-overlay").css({display:"none"}),$("#myCartMassage").css("display","block"),$("#myCartMassage").html("Gift Cart Added To Your Shopping Cart.");if(p=='shopping_cart.php'){location.reload();}$(".scroll-pane").jScrollPane(),rightSideCartwidth()}})},1e3)}
function changeCurrency(e){$.post(SITE_ROOT_URL+"common/ajax/ajax_converter.php",{action:"ChangeCurrency",currencyCode:e},function(){location.reload()})}
function addToCart(e){$("."+e).colorbox({height:800,onComplete:function(){addToAjaxCartValue(),addToAjaxCart(),addToAjaxCartHeader(),$(".scroll-pane").jScrollPane(),$(".close").click(function(){parent.jQuery.fn.colorbox.close()})}})}
function addToCartClose(){$("#popupAddToCart .addtocart").html(""),$("#popupAddToCart").hide(),$("#fancybox-overlay").hide()}function closeCartMassage(){$("#myCartMassage").css("display","block"),$("#myCartMassage").html("")}
function addToAjaxCart(){$.post(SITE_ROOT_URL+"common/ajax/ajax_cart.php",{action:"addToAjaxCart"},function(e){$("#idAddToProductCart").html(e),$(".scroll-pane").jScrollPane()})}
function addToAjaxCartValue(){$.post(SITE_ROOT_URL+"common/ajax/ajax_cart.php",{action:"addToAjaxCartValue"},function(e){var total=(e==0||e==1)?'<strong>'+e+'</strong>item':'<strong>'+e+'</strong>items';$("#cartValue").html(total);$("#cartValue").removeAttr("style")
$("#cartValue").addClass('newCartCountColor');$("#cartValue2").html(e);if($.trim(e)>0){$(".cart_div").show();}else{$(".cart_div").hide();}
var r=" item";r+="1"==e?"":"s",$(".cart_bottm").html("<p>You have "+e+r+' <br/>in your cart</p><span><a href="'+SITE_ROOT_URL+'shopping_cart.php">view cart </a></span>')})}
function catKeySubmit(){var e=document.frmkeysearch.cid.value,r=document.frmkeysearch.cid.options[document.frmkeysearch.cid.selectedIndex].text,a=document.frmkeysearch.searchKey.value;r=r.replace("'","-"),r=r.replace('"',"-"),r=r.replace("_","-"),r=r.replace(" ","-"),r=r.replace(".","-"),r=r.replace(",","-"),r=r.replace("&","-"),"0"==e&&(r="all"),a==SEARCH_BRAND_PRODUCT&&(a="");var o=SITE_ROOT_URL+"category/"+r+"/"+e+"/"+a;return document.frmkeysearch.action=o,document.frmkeysearch.submit(),!0}
function goodsSearchSubmit(){var e=document.frmGoodsSearch.searchKey.value,r=document.frmGoodsSearch.frmPriceFrom.value,a=document.frmGoodsSearch.frmPriceTo.value;e==SEARCH_BRAND_PRODUCT&&(e="");var o=SITE_ROOT_URL+"category/goods/"+(r>0?r:0)+"/"+(a>0?a:0)+"/"+e;return""!=e||""!=r||""!=a?window.location.href=o:($("#goodsMsg").css("display","block"),setTimeout(function(){$("#goodsMsg").css("display","none")},2e3)),!1}
function loginAction(){var e="0",r=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,a=$("input:radio[name=frmUserTypeLn]:checked").val(),o=$("#frmUserEmailLn").val(),n=$("#frmUserPasswordLn").val();if($("input:checkbox[name=remember_me]").is(":checked"))var i="yes";else var i="";if(""==o||null==o){$(".frmUserEmailLn").css("display","block");var t=errorMessageLogin("");return $(".frmUserEmailLn").html(t),$("#frmUserEmailLn").focus(),!1}if(!r.test(o)){$(".frmUserEmailLn").css("display","block");var t=errorMessageLogin("email");return $(".frmUserEmailLn").html(t),$("#frmUserEmailLn").focus(),!1}if(""==n||null==n){$(".frmUserPasswordLn").css("display","block");var t=errorMessageLogin("");return $(".frmUserPasswordLn").html(t),$("#frmUserPasswordLn").focus(),!1}e="1","1"==e&&$.post(SITE_ROOT_URL+"common/ajax/ajax_login.php",{action:"Login",frmUserType:a,frmUserEmail:o,frmUserpassword:n,remember_me:i},function(e){$("#LoginErrorMsg").html(e),$("#frmUserPasswordLn").val("")})}
function loginActionCustomer(){var e="0",r=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,a="customer",o=$("#frmUserEmailLnRev").val(),n=$("#frmUserPasswordLnRev").val();if(""==o||null==o){$(".frmUserEmailLn").css("display","block");var i=errorMessageLogin("");return $(".frmUserEmailLn").html(i),$("#frmUserEmailLnRev").focus(),!1}if(!r.test(o)){$(".frmUserEmailLn").css("display","block");var i=errorMessageLogin("email");return $(".frmUserEmailLn").html(i),$("#frmUserEmailLnRev").focus(),!1}if($(".frmUserEmailLn").html(""),""==n||null==n){$(".frmUserPasswordLn").css("display","block");var i=errorMessageLogin("");return $(".frmUserPasswordLn").html(i),$("#frmUserPasswordLnRev").focus(),!1}$(".frmUserPasswordLn").html(""),e="1","1"==e&&$.post(SITE_ROOT_URL+"common/ajax/ajax_login.php",{action:"Login",frmUserType:a,frmUserEmail:o,frmUserpassword:n,pid:$("#Revpid").val(),name:$("#Revname").val(),refNo:$("#RevrefNo").val(),type:$("#CustomerLoginRev").attr("action"),frmval:$("#CustomerLoginRev").attr("val")},function(e){$("#LoginErrorMsgRev").html(e),$("#frmUserPasswordLnRev").val("")})}
function forgetPasswordAction(){var e=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,r="0",a=$("input:radio[name=frmUserTypeFp]:checked").val(),o=$("#frmUserEmailFp").val();if(""==o||null==o){var n=errorMessageLogin("");return $(".frmUserEmailFp").html(n),$("#frmUserEmailFp").focus(),!1}if(!e.test(o)){var n=errorMessageLogin("email");return $(".frmUserEmailFp").html(n),$("#frmUserEmailFp").focus(),!1}r="1","1"==r&&$.post(SITE_ROOT_URL+"common/ajax/ajax_login.php",{action:"forgetPassword",frmUserType:a,frmUserEmail:o},function(e){if($.trim(e)==1){$(".successForgotPass").show();setTimeout(function(){$(".successForgotPass").fadeOut(4000)},4000);$("#ForgetPasswordErrorMsg").hide();}else{$("#ForgetPasswordErrorMsg").show();setTimeout(function(){$("#ForgetPasswordErrorMsg").fadeOut(4000)},4000);$(".successForgotPass").hide();}})}
function jscallLoginBox(e,r){if($("."+e).colorbox({inline:!0,width:"700px"}),"1"==r){var a=$("input[name=frmUserTypeLn]:radio:checked").val();$("input[name=frmUserTypeFp][value="+a+"]").attr("checked","checked")}}
function jscallLoginBoxCustomer(e,r,a){$('#frmProductToWish').val(a);$("#CustomerLoginRev").attr("action",r),$("#CustomerLoginRev").attr("val",a),$("."+e).colorbox({inline:!0,width:"500px"})}function errorMessageLogin(e){if("email"==e)var r="* "+varInvalidEmail;else var r="* "+required;return'<div style="opacity: 0.87; position: relative; top: 0px; margin-top: -80px; left: 248px;" class="formError"><div class="formErrorContent">'+r+'<br/></div><div class="formErrorArrow"><div class="line10"><!-- --></div><div class="line9"><!-- --></div><div class="line8"><!-- --></div><div class="line7"><!-- --></div><div class="line6"><!-- --></div><div class="line5"><!-- --></div><div class="line4"><!-- --></div><div class="line3"><!-- --></div><div class="line2"><!-- --></div><div class="line1"><!-- --></div></div></div>'}
function textSelect(e,r,a,o){if(void 0==o)var n=e,i=r;else var n=e+"_"+o,i=r+"_"+o;$("#attrdiv_"+i).find("image"==a?".rollover_1":".rollover_2").html(""),$("#attrdiv_"+i).find("image"==a?".pics":" a").css("border","1px solid #A3A4A6"),$("#check_"+n).html("<img src='"+SITE_ROOT_URL+"common/images/right_img2.png'>"),$("#frmAttribute_"+n).css("border","1px solid #FF0000");var t=$("input:radio[name=frmAttribute_"+i+"]");void 0==o?t.filter("[value="+n+"]").prop("checked",!0):t.filter("[namevalue="+n+"]").prop("checked",!0),calculateOptPrice()}
function textSelectPackage(e,r,a,o){if(void 0==o)var n=e,i=r;else var n=e+"_"+o,i=r+"_"+o;$("#attrdiv_"+i).find("image"==a?".rollover_1":".rollover_2").html(""),$("#attrdiv_"+i).find("image"==a?".pics":" a").css("border","1px solid #A3A4A6"),$("#check_"+n).html("<img src='"+SITE_ROOT_URL+"common/images/right_img2.png'>"),$("#frmAttribute_"+n).css("border","1px solid #FF0000");var t=$("input:radio[name=frmAttribute_"+i+"]");void 0==o?t.filter("[value="+n+"]").prop("checked",!0):t.filter("[namevalue="+n+"]").prop("checked",!0),calculateOptPricePackage(e,r,a,o)}
function jscall_recommend(){$(".recommend").colorbox({inline:!0,width:"600px"}),$("#recommend_cancel").click(function(){parent.jQuery.fn.colorbox.close()})}function quantityPlusMinus(e,r){if("qv"==r)var a="#frmQty";else var a="#frmQuantity";var o=$(a).val();"1"==e?(o=parseInt(o)+1,$(a).val(o)):(o=parseInt(o)-1,o>0&&$(a).val(o))}function start_auth(e){if("product.php"==RET_TO)var r="pid||"+$("#Revpid").val()+"@@name||"+$("#Revname").val()+"@@refNo||"+$("#RevrefNo").val()+"@@type||"+$("#CustomerLoginRev").attr("action")+"@@frmval||"+$("#CustomerLoginRev").attr("val");else var r="";start_url=SITE_ROOT_URL+"social_login.php"+e+"&return_to="+encodeURI(SITE_ROOT_URL+"social_login.php")+"&_ts="+(new Date).getTime()+"&_to="+RET_TO+"&_qryStr="+r,window.open(start_url,"hybridauth_social_sing_on","location=0,status=0,scrollbars=0,width=800,height=500")}$(document).ready(function(){$("#click").click(function(){return $("#click").css({"background-color":"#f00",color:"#fff",cursor:"inherit"}).text(OPEN_THIS_WINDOW),!1});var e=$.cookie("googtrans");"/en/en"==e&&$.cookie("googtrans",null),$("#popupAddToCart .cross").click(function(){$("#popupAddToCart").hide(),$("#fancybox-overlay").hide()}),$("#frmUserEmailLn").change(function(){if(""==$(this).val()||null==$(this).val()){var e=errorMessageLogin("");$(".frmUserEmailLn").html(e)}else $(".frmUserEmailLn").html("")}),$("#frmUserPasswordLn").change(function(){if(""==$(this).val()||null==$(this).val()){var e=errorMessageLogin("");$(".frmUserPasswordLn").html(e)}else $(".frmUserPasswordLn").html("")}),$("#frmUserEmailFp").change(function(){if(""==$(this).val()||null==$(this).val()){var e=errorMessageLogin("");$(".frmUserEmailFp").html(e)}else $(".frmUserEmailFp").html("")})}),jQuery(document).ready(function(){jQuery("#frmGiftCard").validationEngine("attach",{scroll:!1}),jQuery(".send_gift_card").click(function(e){jQuery(".pop_up_sec").css({display:"block","z-index":"100"}),jQuery("#fancybox-overlay").css({display:"block"}),e.preventDefault()}),jQuery(".gift_card_close").click(function(e){jQuery(".pop_up_sec").css({display:"none"}),jQuery("#fancybox-overlay").css({display:"none"}),e.preventDefault()}),$("#defaultInline").datepick({multiSelect:999,monthsToShow:1,minDate:new Date(),onSelect:function(e){var r=e.toString().split(","),a="";for(i=0;i<r.length;i++)date=new Date(r[i]),d=date.getDate(),10>d&&(d="0"+d),m=date.getMonth()+1,10>m&&(m="0"+m),y=date.getFullYear(),""!=a?a+=","+d+"-"+m+"-"+y:a=d+"-"+m+"-"+y;$("#giftCardCalender").val(a),$("#dateRequiredValidation").val(""!=$("#giftCardCalender").val()&&"NaN-NaN-NaN"!=$("#giftCardCalender").val()?"1":"")}}),$(window).resize(function(){chaneHeaderMenu()}).resize(),$(".radio_btn .radio").live("click",function(){var e=$("input:radio[name=frmUserTypeLn]:checked"),r=e.val(),a=e.attr("u"),o=e.attr("p");""==a?($("input:checkbox[name=remember_me]").removeAttr("checked"),$("input:checkbox[name=remember_me]").prev().attr("style","background-position: 0px 0px")):($("input:checkbox[name=remember_me]").attr("checked","checked"),$("input:checkbox[name=remember_me]").prev().attr("style","background-position: 0px -50px")),$("#frmUserEmailLn").val(a),$("#frmUserPasswordLn").val(o),"customer"==r?$(".social_login_icons").show():$(".social_login_icons").hide()})}),$(function(){$(".moreLink").click(function(){$("#category_list").show(),$("ul li.moreLink").hide(),$("ul li.lessLink").show()}),$(".lessLink").click(function(){$("#category_list").hide(),$("ul li.moreLink").show(),$("ul li.lessLink").hide()})}),jQuery(document).ready(function(){jQuery("#searchKey").live("click",function(){jQuery("#searchKey").autocomplete(SITE_ROOT_URL+"common/ajax/ajax_autocomplete.php?action=searchKeyAutocomplete&catid="+jQuery("#searchcid").val()+"&q="+jQuery("#searchKey").val(),{width:390,matchContains:!0,selectFirst:!1})})}),jQuery(document).ready(function(){jQuery("#searchKey").live("click",function(){jQuery("#searchKey").autocomplete(SITE_ROOT_URL+"common/ajax/ajax_autocomplete.php?action=searchKeyAutocomplete&catid="+jQuery("#searchcid").val()+"&q="+jQuery("#searchKey").val(),{width:390,matchContains:!0,selectFirst:!1})})});var idp=null;$(function(){$(".idpico").click(function(){idp=$(this).attr("idp"),start_auth("?provider="+idp)})});function RemoveProductFromCart1(id,index,stUrl,inr,qty){$.post(stUrl+'common/ajax/ajax_cart.php',{action:'RemoveProductFromCart',pid:id,index:index,qty:qty},function(data){if(data.Total>0){$('#RemoveFromCart'+id).length>0?$('#RemoveFromCart'+id).html(''):'';$('.cart'+inr).length>0?$('.cart'+inr).html(''):'';$('.RemoveFromCart'+inr).length>0?$('.RemoveFromCart'+inr).remove():'';var total=($.trim(data.Total)==0||$.trim(data.Total)==1)?'<strong>'+$.trim(data.Total)+'</strong>item':'<strong>'+$.trim(data.Total)+'</strong>items';$('#cartValue').html(total);$("#cartValue2").html(data.Total);$('.scroll-pane').jScrollPane();}else{location.reload();}},"json");}
function RemoveGiftCardFromCart1(id,stUrl,inr,qty){$.post(stUrl+'common/ajax/ajax_cart.php',{action:'RemoveGiftCardFromCart',pid:id,qty:qty},function(data){var dt=data
if(dt>0){$('#RemoveFromCartGiftCard'+id).length>0?$('#RemoveFromCartGiftCard'+id).html(''):'';$('.cart'+inr).length>0?$('.cart'+inr).html(''):'';$('.RemoveFromCartGiftCard'+inr).length>0?$('.RemoveFromCartGiftCard'+inr).remove():'';var total=($.trim(dt)==0||$.trim(dt)==1)?'<strong>'+$.trim(dt)+'</strong>item':'<strong>'+$.trim(dt)+'</strong>items';$('#cartValue').html(total);$("#cartValue2").html(dt);$('.scroll-pane').jScrollPane();}else{location.reload();}});}
function RemovePackageFromCart1(id,pkgIndex,stUrl,inr,qty){$.post(stUrl+'common/ajax/ajax_cart.php',{action:'RemovePackageFromCart',pid:id,pkgIndex:pkgIndex,qty:qty},function(data){var dt=data
if(dt>0){$('#RemoveFromCartPkg'+id).length>0?$('#RemoveFromCartPkg'+id).html(''):'';$('#cart'+id).length>0?$('#cart'+id).html(''):'';$('.RemoveFromCartPkg'+inr).length>0?$('.RemoveFromCartPkg'+inr).remove():'';var total=($.trim(dt)==0||$.trim(dt)==1)?'<strong>'+$.trim(dt)+'</strong>item':'<strong>'+$.trim(dt)+'</strong>items';$('#cartValue').html(total);$("#cartValue2").html(dt);$('.scroll-pane').jScrollPane();}else{location.reload();}});}
function addToAjaxCartHeader(){$.post(SITE_ROOT_URL+"common/ajax/ajax_cart.php",{action:"addToAjaxCartHeader"},function(e){$(".cart_complete").html(e),$(".cart_row").show(),$(".scroll-pane").jScrollPane()})}
$(document).ready(function(){$(document).click(function(e){if($(e.target).parents('.cart_div').length==0){}});$('body').on('click','.deletecart_button',function(e){e.preventDefault();$('.scroll-pane').jScrollPane();var divClass=$(this).parent().parent().attr('class');divClass=divClass.split(' ');divClass=$('.'+divClass[1]).height();var updateDivHeight=$('.cart_complete').height()-divClass;var updateDivHeight1=$('.jspTrack').height()-divClass;var showImgClass=$(this).next().attr('id');$('#'+showImgClass).show();var deleteType=$(this).attr('tp');var pid=$(this).attr('pid');var ind=$(this).attr('ind');var stUrl=$(this).attr('stUrl');var inr=$(this).attr('inr');var qty=$('#frmProductQuantity'+inr).val();deleteType=='product'?RemoveProductFromCart1(pid,ind,stUrl,inr,qty):deleteType=='package'?RemovePackageFromCart1(pid,ind,stUrl,inr,qty):deleteType=='giftcard'?RemoveGiftCardFromCart1(pid,stUrl,inr,qty):'';$('.scroll-pane').jScrollPane();});$('body').on('blur','.changeQuantityHeader',function(e){e.preventDefault();var showImgClass=$(this).next().attr('id');$('#'+showImgClass).show();var deleteType=$(this).attr('tp');var pid=$(this).attr('pid');var ind=$(this).attr('ind');var stUrl=$(this).attr('stUrl');var inr=$(this).attr('inr');var pri=$(this).attr('pri');;var qty=$('#frmProductQuantity'+inr).val();var oldQty=$('#frmProductQuantityOld'+inr).val();$.post(stUrl+'common/ajax/ajax_cart.php',{action:'UpdateMyCartHeader',pid:pid,pkgIndex:ind,type:deleteType,qty:qty,pri:pri,oldQty:oldQty},function(data){var total=($.trim(data.Total)==0||$.trim(data.Total)==1)?'<strong>'+$.trim(data.Total)+'</strong>item':'<strong>'+$.trim(data.Total)+'</strong>items';$('#cartValue').html(total);$("#cartValue2").html(data.Total);$('.cartQuantityPriceUpdate'+inr).html(data.updatePrice);$('#frmProductQuantityOld'+inr).val(data.oldVal);$('#'+showImgClass).hide();},"json");});$('body').on('click','.topCartClose',function(e){e.preventDefault();$('#nt-example1-container').hide();});$('body').on('change','#countries',function(){var e=this.value;$.post(SITE_ROOT_URL+"common/ajax/ajax_converter.php",{action:"ChangeCurrency",currencyCode:e},function(){location.reload()})});$('body').on('click','.saveTowishlist',function(e){e.preventDefault();var productId=$(this).attr('Pid');$.post(SITE_ROOT_URL+"common/ajax/ajax_customer.php",{action:"addTowish",pid:productId},function(data){$("<a href='#' class='info afterSavedInWishList' style='background:red;color:white'>Saved</a>").insertBefore('#'+productId);$('#'+productId).hide();})});$('body').on('click','.afterSavedInWishList',function(e){e.preventDefault();});});function loginActionCustomerToWish(){var e="0",r=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,a="customer",o=$("#frmUserEmailLnRev").val(),n=$("#frmUserPasswordLnRev").val();if(""==o||null==o){$(".frmUserEmailLn").css("display","block");var i=errorMessageLogin("");return $(".frmUserEmailLn").html(i),$("#frmUserEmailLnRev").focus(),!1}if(!r.test(o)){$(".frmUserEmailLn").css("display","block");var i=errorMessageLogin("email");return $(".frmUserEmailLn").html(i),$("#frmUserEmailLnRev").focus(),!1}if($(".frmUserEmailLn").html(""),""==n||null==n){$(".frmUserPasswordLn").css("display","block");var i=errorMessageLogin("");return $(".frmUserPasswordLn").html(i),$("#frmUserPasswordLnRev").focus(),!1}$(".frmUserPasswordLn").html(""),e="1","1"==e&&$.post(SITE_ROOT_URL+"common/ajax/ajax_login.php",{action:"LoginToSaveProduct",frmUserType:a,frmUserEmail:o,frmUserpassword:n,pid:$("#frmProductToWish").val()},function(e){window.location.reload();})}